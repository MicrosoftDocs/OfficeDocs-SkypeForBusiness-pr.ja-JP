---
title: CQD Power BIテンプレートを使用するためにコネクタをインストールする
ms.author: serdars
author: SerdarSoysal
manager: serdars
ms.reviewer: siunies
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
ms.collection:
- M365-voice
search.appverid: MET150
audience: Admin
appliesto:
- Microsoft Teams
localization_priority: Normal
description: 通話品質Power BI (CQD) クエリ テンプレートを使用するためにコネクタをインストールする
ms.openlocfilehash: 15e02ed85720cf96babc470e021df1a960d4b608
ms.sourcegitcommit: 4e1f5d99c1d0612dc5b50f850280983867ff53d8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/16/2021
ms.locfileid: "51874483"
---
# <a name="install-power-bi-connector-to-use-cqd-query-templates"></a><span data-ttu-id="3a7ae-103">CQD Power BIテンプレートを使用するためにコネクタをインストールする</span><span class="sxs-lookup"><span data-stu-id="3a7ae-103">Install Power BI Connector to use CQD query templates</span></span>

<span data-ttu-id="3a7ae-104">Microsoft Teams 通話品質ダッシュボード (CQD) に Power BI クエリ テンプレート (PBIX ファイル) を使用するには、ダウンロード に含まれる *MicrosoftCallQuality.p Power BI* Connector for Microsoft CQD をインストールする [](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/CQD-Power-BI-query-templates.zip?raw=true)必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-104">Before you can use the Power BI query templates (PBIX files) for Microsoft Teams Call Quality Dashboard (CQD), you'll need to install the Power BI Connector for Microsoft CQD, using the *MicrosoftCallQuality.pqx* file included in the [download](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/CQD-Power-BI-query-templates.zip?raw=true).</span></span>

<span data-ttu-id="3a7ae-105">これらの[テンプレートについては、「Power BIを使用して CQD データを分析する」Teams](CQD-Power-BI-query-templates.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-105">Read [Use Power BI to analyze CQD data for Teams](CQD-Power-BI-query-templates.md) to learn about these templates.</span></span>

<span data-ttu-id="3a7ae-106">レポートにアクセスする適切な[CQD](./turning-on-and-using-call-quality-dashboard.md#assign-admin-roles-for-access-to-cqd)アクセス ロールPower BIします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-106">Make sure you have the right [CQD access role](./turning-on-and-using-call-quality-dashboard.md#assign-admin-roles-for-access-to-cqd) to access the Power BI reports.</span></span>

> [!NOTE]
> <span data-ttu-id="3a7ae-107">CQD Power BI コネクタでは、DirectQuery がサポートPower BI。インポート モードはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-107">The CQD Power BI Connector only supports DirectQuery in Power BI; Import mode is not supported.</span></span> 

## <a name="installation"></a><span data-ttu-id="3a7ae-108">インストール</span><span class="sxs-lookup"><span data-stu-id="3a7ae-108">Installation</span></span>

<span data-ttu-id="3a7ae-109">カスタム コネクタをインストールし、コネクタの使用を有効にするようにセキュリティを調整するプロセスについては、次のドキュメント[Power BIされています](/power-bi/desktop-connector-extensibility)。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-109">The process for installing a custom connector and adjusting security to enable use of the connector is described in detail in the [Power BI documentation](/power-bi/desktop-connector-extensibility).</span></span> <span data-ttu-id="3a7ae-110">わかりやすくするために、簡単な説明を次に示します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-110">For the sake of simplicity, here's a quick explanation:</span></span>

1. <span data-ttu-id="3a7ae-111">コンピューターに Custom Connectors フォルダーのドキュメントが *\[ \] \\ 既Power BI Desktop \\ 確認* します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-111">Check to see if your computer already has a *\[Documents\]\\Power BI Desktop\\Custom Connectors* folder.</span></span> <span data-ttu-id="3a7ae-112">ない場合は、このフォルダーを作成します。<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="3a7ae-112">If not, create this folder.<sup>1</sup></span></span>

2. <span data-ttu-id="3a7ae-113">コネクタ ファイル *\* (.mez* または *\* .p込* みファイル) をダウンロードし *、Custom Connectors ディレクトリに配置* します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-113">Download the connector file (either a *\*.mez* or *\*.pqx* file) and place it in the *Custom Connectors* directory.</span></span>

3. <span data-ttu-id="3a7ae-114">**コネクタ ファイルが *\* .mez*** ファイルの場合は、カスタム コネクタのセットアップ に関するドキュメントの説明に従って、セキュリティ設定 [を調整する必要があります](/power-bi/desktop-connector-extensibility#data-extension-security)。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-114">**If the connector file is a *\*.mez* file,** you will also need to adjust your security settings as described in the [custom connector setup documentation](/power-bi/desktop-connector-extensibility#data-extension-security).</span></span>

<span data-ttu-id="3a7ae-115">この Power BI Connector for Microsoft Teams の新しいバージョンがリリースされた場合は *、Custom Connectors* ディレクトリ内の古いコネクタ ファイルを新しいファイルに置き換えるだけで済みです。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-115">If a new version of this Power BI Connector for Microsoft Teams is released, simply replace the old connector file in the *Custom Connectors* directory with the new file.</span></span>

## <a name="setup"></a><span data-ttu-id="3a7ae-116">セットアップ</span><span class="sxs-lookup"><span data-stu-id="3a7ae-116">Setup</span></span>

<span data-ttu-id="3a7ae-117">レポートを作成してクエリを実行するには、まず CQD データ ソースに接続する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-117">In order to build a report and run queries, you will first need to connect to the CQD data source.</span></span> <span data-ttu-id="3a7ae-118">接続するには、次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-118">Follow the steps below in order to connect:</span></span>

1. <span data-ttu-id="3a7ae-119">[ホーム] タブの [Power BI Desktop データの取得]*をクリックします*。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-119">In the Home tab of Power BI Desktop, click on *Get Data*.</span></span>

    ![スクリーンショット: Power BI コネクタ](media/CQD-power-bi-connector1-resize.png)

2. <span data-ttu-id="3a7ae-121">この *時点で [データ* の取得] ウィンドウが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-121">The *Get Data* window should appear at this point.</span></span> <span data-ttu-id="3a7ae-122">[オンライン サービス *] に移動し\*\*、[Microsoft 通話品質 (ベータ版)* ] を選択し、[] をクリック *Connect。*</span><span class="sxs-lookup"><span data-stu-id="3a7ae-122">Navigate to *Online Services*, then select *Microsoft Call Quality (Beta)* and hit *Connect*.</span></span>

    ![スクリーンショット: Power BI コネクタ](media/CQD-power-bi-connector2-resize.png)

3. <span data-ttu-id="3a7ae-124">次にサインインするように求めるメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-124">You will be prompted to sign in next.</span></span> <span data-ttu-id="3a7ae-125">CQD に使用するのと同じ資格情報を使用します。<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="3a7ae-125">Use the same credentials that you use for CQD.<sup>2</sup></span></span>

4. <span data-ttu-id="3a7ae-126">次のプロンプトでは、2 つのデータ接続モード間 *のオプションが表示されます*。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-126">The next prompt will give you the option between two *Data Connectivity modes*.</span></span> <span data-ttu-id="3a7ae-127">*[DirectQuery] を選択し\*\*、[OK] をクリックします*。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-127">Select *DirectQuery* and hit *OK*.</span></span>

5. <span data-ttu-id="3a7ae-128">最後に、CQD のデータ モデル全体を示す最終的なプロンプトが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-128">Finally, you will be given a final prompt showing you the entire data model for CQD.</span></span> <span data-ttu-id="3a7ae-129">この時点ではデータは表示されません。CQD のデータ モデルだけが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-129">No data will be visible at this point, only the data model for CQD.</span></span> <span data-ttu-id="3a7ae-130">[読 *み込み* ] を選択してセットアップ プロセスを完了します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-130">Select *Load* to complete the setup process.</span></span>

6. <span data-ttu-id="3a7ae-131">この時点で、Power BIウィンドウの右側にデータ モデルが読み込まれる必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-131">At this point, Power BI will load the data model onto the right side of the window.</span></span> <span data-ttu-id="3a7ae-132">それ以外の場合、ページは空白のままであり、既定ではクエリは読み込まれません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-132">The page will remain otherwise blank, and no queries will be loaded by default.</span></span> <span data-ttu-id="3a7ae-133">クエリを作成 **してデータを返** す場合は、以下の「クエリの作成」に進みます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-133">Proceed to **Building Queries** below in order to build a query and return data.</span></span>

<span data-ttu-id="3a7ae-134">このセットアップ プロセス中の手順が完全に明確ではない場合は、「クイック スタート: Connect to data in Power BI Desktop 」でプロセスの詳細な説明[を参照してください](/power-bi/desktop-quickstart-connect-to-data)。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-134">If any of the steps during this setup process were not completely clear, a more detailed explanation of the process can be found in [Quickstart: Connect to data in Power BI Desktop](/power-bi/desktop-quickstart-connect-to-data).</span></span>

## <a name="building-queries"></a><span data-ttu-id="3a7ae-135">クエリの作成</span><span class="sxs-lookup"><span data-stu-id="3a7ae-135">Building Queries</span></span>

<span data-ttu-id="3a7ae-136">セットアップが完了すると、[フィールド] ウィンドウに数百のディメンションとメジャーの負荷の名前が *表示* されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-136">Once setup is complete, you should see the names of several hundred dimensions and measures load in the *Fields* pane.</span></span> <span data-ttu-id="3a7ae-137">ここから実際のクエリを作成するのも簡単です。クエリに必要なディメンションとメジャーを選択し、ページにドラッグ アンド ドロップします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-137">Constructing actual queries from here is simple, just select the dimensions and measures you want for your query, then drag and drop them onto the page.</span></span> <span data-ttu-id="3a7ae-138">簡単な例を使用して、より詳細な説明を次に示します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-138">Here's a more detailed explanation, with a simple example:</span></span>

1. <span data-ttu-id="3a7ae-139">[視覚化] ウィンドウから、使用する *視覚エフェクトを選択* します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-139">Select the visualization you want to use from the *Visualizations* pane.</span></span> <span data-ttu-id="3a7ae-140">その視覚エフェクトの空のバージョンがページに表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-140">A blank version of that visualization should appear on the page.</span></span> <span data-ttu-id="3a7ae-141">この例では、テーブルの視覚エフェクトを *使用* します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-141">For the purposes of this example, we will be using the *Table* visualization.</span></span>

    ![スクリーンショット: Power BI コネクタ](media/CQD-power-bi-connector3-resize.png)

2. <span data-ttu-id="3a7ae-143">クエリに使用するディメンションとメジャー (集計記号で名前で表される) を決定し、手動で選択し、黒い視覚エフェクトにドラッグします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-143">Determine which dimensions and measures (denoted by an aggregation symbol by their name) you wish to use for your query, then manually select them and drag them onto the black visualization.</span></span> <span data-ttu-id="3a7ae-144">または、視覚化オプションの下にある *[値* ] フィールドにドラッグします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-144">Alternately, drag them onto the *Values* field beneath the visualization options.</span></span>

    ![スクリーンショット: Power BI コネクタ](media/CQD-power-bi-connector4-resize2.png)

    > [!IMPORTANT]
    > <span data-ttu-id="3a7ae-146">通話品質ダッシュボードでは、クエリを実行するためのメジャーが必要です。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-146">Call Quality Dashboard requires a measure for any query to run.</span></span> <span data-ttu-id="3a7ae-147">クエリにメジャーを追加しない場合、そのクエリは失敗します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-147">Failure to add a measure to a query will cause that query to fail.</span></span>

3. <span data-ttu-id="3a7ae-148">次に、フィルター処理するディメンションを選択し、[フィルター] ウィンドウの [このビジュアル フィールドのフィルター] に *ドラッグ* します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-148">Next, select any dimensions you want to filter on and drag them to the *Filters on this visual* field in the *Filters* pane.</span></span> <span data-ttu-id="3a7ae-149">現在、CQD Power BI コネクタでは、基本的なフィルター処理 (使用可能なディメンション値の一覧から値を選択)、高度な *フィルター処理*(Advanced CQD と同様に、フィルター処理する値とオペランドを手動で指定)、相対日付フィルタリング *(終了* 時刻と開始時刻のディメンションでのみ使用できます) がサポートされています。 </span><span class="sxs-lookup"><span data-stu-id="3a7ae-149">The CQD Power BI Connector currently supports *Basic filtering* (select values from a list of possible dimension values), *Advanced filtering* (manually specify values and operands to filter on, similar to Advanced CQD), and *Relative date filtering* (only available for the *End Time* and *Start Time* dimensions).</span></span> <span data-ttu-id="3a7ae-150">上位 N に従 *ったフィルター処理* は、CQD ではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-150">Filtering according to *Top N* is not supported by CQD.</span></span>

    ![スクリーンショット: Power BI コネクタ](media/CQD-power-bi-connector5-resize.png)

4. <span data-ttu-id="3a7ae-152">最後に、[視覚化] *ウィンドウの* [書式] タブ *を選択* して、クエリのスタイルと書式を設定します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-152">Finally, select the *Format* tab within the *Visualizations* pane to style and format your query.</span></span>

    > [!NOTE]
    > <span data-ttu-id="3a7ae-153">CQD クエリを実行するには、少なくとも 1 つのメジャーが必要です。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-153">CQD queries require at least one measure in order to run.</span></span> <span data-ttu-id="3a7ae-154">クエリが読み込まれていない場合は、クエリにメジャーが含まれているか確認します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-154">If your query does not load, double check that you have included a measure in the query.</span></span>

## <a name="creating-a-drillthrough-report"></a><span data-ttu-id="3a7ae-155">ドリルスルー レポートの作成</span><span class="sxs-lookup"><span data-stu-id="3a7ae-155">Creating a Drillthrough Report</span></span>

<span data-ttu-id="3a7ae-156">[[ドリルスルー] Power BI、](/power-bi/desktop-drillthrough)コンテキストとして他のレポートの値を使用してすばやくフィルター処理できる、フォーカスされたレポートを作成できます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-156">[Drillthrough in Power BI](/power-bi/desktop-drillthrough) allows you to create focused reports that you can quickly filter using the values of other reports as context.</span></span> <span data-ttu-id="3a7ae-157">CQD コネクタを使用して最初のクエリを作成する方法がわかっている場合、ドリルスルーの作成はさらに簡単です。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-157">Once you know how to create your first query with the CQD Connector, creating a drillthrough is even simpler.</span></span>

1. <span data-ttu-id="3a7ae-158">フォーカスされたレポート用に別のページを作成し、そのページにクエリを追加します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-158">Create another page for the focused report, and then add your queries to that page.</span></span>

2. <span data-ttu-id="3a7ae-159">ドリルスルー フィルターとして使用するディメンションを選択し、[視覚化] ウィンドウの [ *ドリル* スルー] *フィールドにドラッグ* します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-159">Select the dimension you want to use as a drillthrough filter and drag them onto the *Drillthrough* field under on the *Visualizations* pane.</span></span>

    ![スクリーンショット: Power BI コネクタ](media/CQD-power-bi-connector6-resize.png)

3. <span data-ttu-id="3a7ae-161">**それです\!**</span><span class="sxs-lookup"><span data-stu-id="3a7ae-161">**That's it\!**</span></span> <span data-ttu-id="3a7ae-162">そのディメンションを使用する別のページの他のクエリで、そのページにドリルスルーを実行し、ドリルスルー ディメンションの値をフィルターとして自動的に適用できます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-162">Any other query on another page that uses that dimension can now drillthrough to that page, automatically applying the drillthrough dimension's value as a filter.</span></span>

    ![スクリーンショット: Power BI コネクタ](media/CQD-power-bi-connector7-resize.png)

<span data-ttu-id="3a7ae-164">Advanced CQD とは異なり、Power BIは非シーケンシャルドリルスルーをサポートします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-164">Unlike Advanced CQD, Power BI supports non-sequential drillthrough.</span></span> <span data-ttu-id="3a7ae-165">クエリに必要なディメンションが含まれる限り、他のページにドリルスルーできます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-165">So long as a query includes the necessary dimension, it can drillthrough to any other page.</span></span>

### <a name="best-practice"></a><span data-ttu-id="3a7ae-166">ベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="3a7ae-166">Best practice</span></span>

<span data-ttu-id="3a7ae-167">通話品質コネクタ クエリは、ドリルスルー機能を念頭に置いて設計する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-167">Call Quality connector queries should be designed with drillthrough functionality in mind.</span></span> <span data-ttu-id="3a7ae-168">すべてのデータを一度に読み込み、フィルターでスライスダウンするのではなく、より広範な低カーディナリティ クエリから始め、高カーディナリティ クエリにドリルダウンします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-168">Instead of trying to load all the data at once, and then slicing down with filters, start with broader, low-cardinality queries and drill down to high-cardinality queries.</span></span> <span data-ttu-id="3a7ae-169">たとえば、品質の問題に最も寄与するサブネットを診断する場合、最初に問題の原因であるリージョンと国を特定してから、そのリージョンまたは国のサブネットにドリルダウンすると便利です。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-169">For instance, when attempting to diagnose which subnets contribute most to quality issues, it's helpful to first identify those regions and countries which contribute to the problem, then drill down to the subnets in that region or country.</span></span> <span data-ttu-id="3a7ae-170">通話品質コネクタ テンプレートは、例として機能するように、この方法で設計されています。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-170">The Call Quality connector templates have been designed in this manner in order to act as an example.</span></span>

## <a name="limitations"></a><span data-ttu-id="3a7ae-171">制限事項</span><span class="sxs-lookup"><span data-stu-id="3a7ae-171">Limitations</span></span>

<span data-ttu-id="3a7ae-172">Power BI を使用しているにもかかわらず、CQD データ モデルまたは DirectQuery コネクタ全般に対する制限の結果として、すべての Power BI 機能が CQD コネクタでサポートされているという保証はありません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-172">Despite making use of Power BI, not all Power BI functionality is support by the CQD Connector, either as a result of limitations on CQD data model or on DirectQuery connectors in general.</span></span> <span data-ttu-id="3a7ae-173">以下の一覧は、コネクタのより注目すべき制限事項の一部を示していますが、この一覧は網羅的であると見なす必要はありません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-173">The list below notes some of the Connector's more noteworthy limitations, but this list should not be considered exhaustive:</span></span>

1. <span data-ttu-id="3a7ae-174">**計算列 –** 一般に、DirectQuery コネクタでは、計算列のサポートが制限Power BI。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-174">**Calculated Columns –** DirectQuery connectors in general have limited support for calculated columns in Power BI.</span></span> <span data-ttu-id="3a7ae-175">一部の計算列はコネクタで動作する場合があります。ただし、これらは例外と見なす必要があります。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-175">While some calculated columns may work with the Connector, these should be considered exceptions.</span></span> <span data-ttu-id="3a7ae-176">一般的なルールとして、計算列は機能しません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-176">As a general rule, calculated columns will not function.</span></span>

2. <span data-ttu-id="3a7ae-177">**集計 –** CQD データ モデルはキューブ モデル上に構築されています。つまり、集計はメジャーの形式で既にサポートされています。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-177">**Aggregations –** The CQD data model is built on a cube model, meaning that aggregations are already supported in the form of measures.</span></span> <span data-ttu-id="3a7ae-178">異なるディメンションに集計を手動で追加しようとしたり、メジャーの集計の種類を変更したりしようとすると、コネクタでは機能しません。通常、エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-178">Attempting to manually add aggregations to different dimensions or changing the aggregation type of a measure will not work with the Connector, and it will generally result in an error.</span></span>

3. <span data-ttu-id="3a7ae-179">**カスタム ビジュアル –** CQD コネクタはさまざまなカスタム ビジュアルで動作しますが、すべてのカスタム ビジュアルとの互換性を保証できません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-179">**Custom Visuals –** While the CQD Connector does work with a range of custom visuals, we are unable to guarantee compatibility with all custom visuals.</span></span> <span data-ttu-id="3a7ae-180">多くのカスタム ビジュアルは、計算列またはインポートされたデータの使用に依存します。DirectQuery コネクタではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-180">Many custom visuals rely on the use of calculated columns or imported data, neither or which are supported by DirectQuery connectors.</span></span>

4. <span data-ttu-id="3a7ae-181">**キャッシュ されたデータの** 参照 – Power BI現在、DirectQuery コネクタからのキャッシュされたデータの参照はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-181">**Referencing Cached Data –** Power BI currently does not support referencing cached data from a DirectQuery connector in any way.</span></span> <span data-ttu-id="3a7ae-182">クエリの結果を参照しようとすると、新しいクエリが作成されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-182">Any attempt to reference the results of a query will result in a new query.</span></span>

5. <span data-ttu-id="3a7ae-183">**相対データ のフィルター処理 –** CQD コネクタではサポートされますが、開始時刻と終了 *時刻* のディメンション *でのみサポート* されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-183">**Relative Data Filtering –** Is supported in the CQD Connector, but only with the *Start Time* and *End Time* dimensions.</span></span> <span data-ttu-id="3a7ae-184">Date ディメンション *は* 相対的な日付のフィルター処理に対して明らかな選択肢ですが *、Date* は日付時刻オブジェクトとして保存されないので、日付の相対的なフィルター処理はサポートPower BI。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-184">Although the *Date* dimension may be the obvious choice for relative date filtering, *Date* is not stored as a date time object and thus does not support relative date filtering in Power BI.</span></span>

6. <span data-ttu-id="3a7ae-185">**Government Community Cloud (GCC) のサポート –** GCC 環境のお客様の場合、CQD Power BI コネクタは、アプリケーションを使用するときに機能Power BI Desktop。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-185">**Government Community Cloud (GCC) Support –** For customers in the GCC environment, the CQD Power BI Connector will work when using Power BI Desktop.</span></span> <span data-ttu-id="3a7ae-186">CQD Power BIコネクタは、現在、お客様の Power BI サービスGCCされません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-186">The CQD Power BI connector is not presently compatible with the Power BI service for GCC customers.</span></span>

<span data-ttu-id="3a7ae-187">これらの問題の大部分は、CQD データ モデルの設計に関する Power BI DirectQuery コネクタの設計に対する制限か、または基本的な問題です。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-187">Most of these issues are either restrictions to DirectQuery connector design in Power BI or fundamental to the design of the CQD data model.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="3a7ae-188">トラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="3a7ae-188">Troubleshooting</span></span>

### <a name="im-trying-to-use-the-date-column-as-a-date-slicer-as-soon-as-i-convert-the-data-type-of-this-column-to-date-i-get-this-error"></a><span data-ttu-id="3a7ae-189">Date 列を Date スライサーとして使用します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-189">I'm trying to use the Date column as a Date slicer.</span></span> <span data-ttu-id="3a7ae-190">この列のデータ型を Date に変換するとすぐに、このエラーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-190">As soon as I convert the data type of this column to Date, I get this error</span></span>

> <span data-ttu-id="3a7ae-191">**このビジュアルのデータ** を読み込めなかった: OLE DB または ODBC エラー: [Expression.Error] 式をデータ ソースにフォールドできなかった。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-191">**Couldn't load the data for this visual**: OLE DB or ODBC error: [Expression.Error] We couldn't fold the expression to the data source.</span></span> <span data-ttu-id="3a7ae-192">より簡単な式を試してください。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-192">Please try a simpler expression.</span></span>

<span data-ttu-id="3a7ae-193">日付スライサーは、Power BI コネクタではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-193">Date slicers aren't supported with the Power BI Connector.</span></span> <span data-ttu-id="3a7ae-194">日付範囲を指定するには、2 つのフィルターをレポートに適用し、日付より小さいフィルターと日付より大きいフィルターを指定します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-194">To specify a date range, apply two filters to the report, specifying a less than and greater than date.</span></span>

<span data-ttu-id="3a7ae-195">または、表示する日付が最新の日付の場合は、相対日付フィルターを適用して、最後の N 日/週/月のデータのみを表示します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-195">Alternatively, if the dates you want to view are recent, apply a relative date filter to show only data for the last N days/weeks/months.</span></span>

## <a name="error-codes"></a><span data-ttu-id="3a7ae-196">エラー コード</span><span class="sxs-lookup"><span data-stu-id="3a7ae-196">Error Codes</span></span>

<span data-ttu-id="3a7ae-197">CQD Power BI Connector は、作成できるクエリの種類に関してブラウザー アプリよりも制限が少ないので、クエリの作成中にエラーが発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-197">Because the CQD Power BI Connector is less restricted than the browser app in terms of kinds of queries you can construct, you may occasionally encounter a number of errors while building your queries.</span></span> <span data-ttu-id="3a7ae-198">"CQDError" という種類のエラー メッセージが表示された場合。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-198">In the event that you receive an error message of the type "CQDError.</span></span> <span data-ttu-id="3a7ae-199">RunQuery – クエリ実行エラー" を参照して、クエリに関して発生する可能性のある問題をトラブルシューティングするために、ErrorType 番号を指定して以下の一覧を参照します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-199">RunQuery – Query Execution Error", reference the list below with the ErrorType number provided in order to troubleshoot the possible issue with the query.</span></span> <span data-ttu-id="3a7ae-200">CQD コネクタで発生する可能性がある最も一般的なエラーの種類Power BIします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-200">The following are the most common Error Type codes you may encounter with the CQD Power BI Connector:</span></span>

- <span data-ttu-id="3a7ae-201">**ErrorType 1 - クエリ構造エラー:** クエリ構造のエラーは、通常、コネクタが適切な形式のクエリを作成できなかった場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-201">**ErrorType 1 - Query Structure Error:** A query structure error is typically caused by the Connector failing to build a properly formatted query.</span></span> <span data-ttu-id="3a7ae-202">これは、上記の制限事項で指定されている、サポートされていない機能を使用する場合に最も頻繁に発生します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-202">This happens most often when using unsupported functionality, as specified in the Limitations above.</span></span> <span data-ttu-id="3a7ae-203">そのクエリに集計列やカスタム ビジュアルが使用されていないか、ダブルチェックします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-203">Double check that you are not using any calculated columns or custom visuals for that query.</span></span>

  - <span data-ttu-id="3a7ae-204">**ErrorType 2 - クエリ作成エラー:** クエリの構築エラーは、CQD コネクタがビルドするクエリを正しく解析できない場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-204">**ErrorType 2 - Query Building Error:** A query building error is caused by the CQD Connector being unable to properly parse the query you are attempting to build.</span></span> <span data-ttu-id="3a7ae-205">これは、上記の制限事項で指定されている、サポートされていない機能を使用する場合に最も頻繁に発生します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-205">This happens most often when using unsupported functionality, as specified in the Limitations above.</span></span> <span data-ttu-id="3a7ae-206">そのクエリに集計列やカスタム ビジュアルが使用されていないか、ダブルチェックします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-206">Double check that you are not using any calculated columns or custom visuals for that query.</span></span>

  - <span data-ttu-id="3a7ae-207">**ErrorType 5 - 実行タイムアウト:** クエリは、切り取り前に可能な最大ランタイムに達しました。スコープを制限するために、クエリにさらにフィルターを追加してみてください。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-207">**ErrorType 5 - Execution Timeout:** The query has reached the maximum possible runtime before timing out. Try adding more filters to the query in order to limit its scope.</span></span> <span data-ttu-id="3a7ae-208">多くの場合、データ範囲を絞り込むのが最も効果的な方法です。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-208">Narrowing the data range is often the most effective way to achieve this.</span></span>

  - <span data-ttu-id="3a7ae-209">**ErrorType 7 - 測定なしエラー:** CQD クエリを機能するには、メジャーが必要です。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-209">**ErrorType 7 - No Measurements Error:** CQD queries require a measure in order to function.</span></span> <span data-ttu-id="3a7ae-210">クエリにメジャーが含まれるか、ダブルチェックします。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-210">Double check that your query includes measure.</span></span> <span data-ttu-id="3a7ae-211">CQD コネクタのメジャーは、名前の前に集計 (合計) 記号で示されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-211">Measures in the CQD Connector are denoted by the aggregation (sum) symbol before their name.</span></span>

<span data-ttu-id="3a7ae-212">このスコープ外で追加のエラーが発生した場合は、問題のトラブルシューティングと必要に応じてドキュメントの更新を支援できるよう、CQD チームに通知してください。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-212">If you encounter any additional errors outside of this scope, please notify the CQD team so that we can help troubleshoot the issue and update the documentation as appropriate.</span></span>

## <a name="footnotes"></a><span data-ttu-id="3a7ae-213">脚注</span><span class="sxs-lookup"><span data-stu-id="3a7ae-213">Footnotes</span></span>

<span data-ttu-id="3a7ae-214">**<sup>1</sup>** 特定のプロセスとアプリ (OneDrive など) により、ドキュメントのルート フォルダーが変更される可能性があります。Custom Connectors ディレクトリPower BI Desktop現在のルート フォルダー *\\ Documents* フォルダーの内部に配置します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-214">**<sup>1</sup>** Certain processes and apps (e.g., OneDrive) may cause your Documents root folder to change; make sure that the *Power BI Desktop\\Custom Connectors* directory is placed inside of the current root folder Documents folder.</span></span>

<span data-ttu-id="3a7ae-215">**<sup>2</sup>** CQD に使用するログイン資格情報は、アプリ自体のログインに使用するのと同じ資格情報Power BI Desktop必要はありません。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-215">**<sup>2</sup>** The login credentials you use for CQD *do not* need to be the same credentials you use for logging into the Power BI Desktop app itself.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="3a7ae-216">よく寄せられる質問</span><span class="sxs-lookup"><span data-stu-id="3a7ae-216">Frequently asked questions</span></span>

### <a name="when-will-the-power-bi-connector-be-updated-from-beta-status"></a><span data-ttu-id="3a7ae-217">Power BI コネクタが "Beta" 状態から更新されるのは、いつですか</span><span class="sxs-lookup"><span data-stu-id="3a7ae-217">When will the Power BI Connector be updated from "Beta" status</span></span>

<span data-ttu-id="3a7ae-218">ベータ タグにもかかわらず、Power BI の通話品質コネクタはコネクタのリリース バージョンであり、これを反映するために Power BI チームによって正式にセキュリティが署名されています。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-218">Despite the Beta tag, the Call Quality Connector for Power BI is the release version of the connector and has been officially security signed by the Power BI team to reflect this.</span></span> <span data-ttu-id="3a7ae-219">そのベータ タグを削除する認定プロセスは広範なプロセスであり、コネクタに直接サポートを提供するために、Power BI チームからのコミットメントが必要です。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-219">The certification process to remove that Beta tag is an extensive one and requires a commitment from the Power BI team to provide direct support to the connector as well.</span></span> <span data-ttu-id="3a7ae-220">時間の制約により、Power BI チームは現在、そのサポートと広範なサーティティを提供できませんが、Microsoft 通話品質コネクタのセキュリティ、信頼性、および一般的な機能を証明する準備は行っています。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-220">Due to time constraints, the Power BI team is currently unable to provide that support and broader certification, but is still prepared to attest to the security, authenticity, and general functionality of the Microsoft Call Quality connector.</span></span>

### <a name="why-does-the-connector-seem-slower-compared-to-advanced-cqd-in-the-browser-what-can-i-do-to-improve-performance"></a><span data-ttu-id="3a7ae-221">ブラウザーの Advanced CQD に比べてコネクタの速度が遅いように見える理由</span><span class="sxs-lookup"><span data-stu-id="3a7ae-221">Why does the connector seem slower compared to Advanced CQD in the browser?</span></span> <span data-ttu-id="3a7ae-222">パフォーマンスを向上させるために実行できる操作</span><span class="sxs-lookup"><span data-stu-id="3a7ae-222">What can I do to improve performance</span></span>

<span data-ttu-id="3a7ae-223">さまざまなテンプレートのクエリパフォーマンスは、ブラウザーとコネクタの両方で実際には同じです。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-223">Query performance for the various templates is actually the same in both the browser and in the connector.</span></span>  <span data-ttu-id="3a7ae-224">他のスタンドアロン アプリと同様に、Power BIのパフォーマンスに認証とレンダリング時間が追加されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-224">Just like any other standalone app, Power BI adds its authentication and rendering time to our performance.</span></span> <span data-ttu-id="3a7ae-225">さらに、この違いは、同時実行クエリの数によって異なっています。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-225">In addition, the difference comes in the number of concurrent queries being run.</span></span> <span data-ttu-id="3a7ae-226">ブラウザー内バージョンの CQD には、あまり開発されていない情報密度の高い視覚化オプションがあったため、ほとんどのレポートは一度に 2 ~ 3 のクエリを読み込むのに制限されています。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-226">Because the in-browser version of CQD had less well-developed and information-dense visualization options, most of our reports were limited to loading 2-3 queries at a time.</span></span> <span data-ttu-id="3a7ae-227">一方、コネクタ テンプレートには多くの場合、20 以上の同時クエリが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-227">On the other hand, the connector templates often display 20+ concurrent queries.</span></span> <span data-ttu-id="3a7ae-228">以前のレポートと同じ応答性の高いレポートを作成する場合は、タブあたり 2 ~ 3 クエリ以下のレポートを作成してみてください。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-228">If you wish to build reports that are just as responsive as the older ones you were used to, try creating reports with no more than 2-3 queries per tab.</span></span>

<span data-ttu-id="3a7ae-229">詳細については、次の記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-229">For more information, see the following articles:</span></span>

- [<span data-ttu-id="3a7ae-230">Power BI の最適化ガイド</span><span class="sxs-lookup"><span data-stu-id="3a7ae-230">Optimization guide for Power BI</span></span>](/power-bi/guidance/power-bi-optimization)
- [<span data-ttu-id="3a7ae-231">DirectQuery モデルのガイダンス</span><span class="sxs-lookup"><span data-stu-id="3a7ae-231">DirectQuery model guidance</span></span>](/power-bi/guidance/directquery-model-guidance)

### <a name="i-find-that-i-routinely-run-into-the-10000-row-limit-when-running-queries-how-can-i-get-the-connector-to-return-more-than-10000-rows"></a><span data-ttu-id="3a7ae-232">クエリを実行すると、10,000 行の制限に日常的に達する場合があります。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-232">I find that I routinely run into the 10,000-row limit when running queries.</span></span> <span data-ttu-id="3a7ae-233">10,000 行を超える行を返すコネクタを取得する方法</span><span class="sxs-lookup"><span data-stu-id="3a7ae-233">How can I get the connector to return more than 10,000 rows</span></span>

<span data-ttu-id="3a7ae-234">10,000 行の制限は、実際には API エンドで指定され、パフォーマンスを大幅に向上し、メモリの状態が少ないクエリ実行エラーのリスクを軽減するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-234">The 10,000-row limit is actually specified on the API end, and it is designed to help significantly improve performance and reduce the risk of query execution errors resulting from low memory conditions.</span></span>

<span data-ttu-id="3a7ae-235">結果の行数を増やす代わりに、コネクタのベスト プラクティスに従ってレポートを再構築します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-235">Instead of attempting to increase the result row count, it is best to restructure your reports according to connector best practices.</span></span> <span data-ttu-id="3a7ae-236">含まれているテンプレートは、これらのベスト プラクティスを示す目的で設計されています。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-236">The templates we have included are designed to demonstrate these best practices.</span></span> <span data-ttu-id="3a7ae-237">可能であれば、まず、月、年、日付、地域、国などのより広いカーディナリティディメンションを使用して KPI を確認します。そこから、より高いカーディナリティ ディメンションにドリルダウンできます。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-237">Where possible, start by looking at your KPIs using broader, lower-cardinality dimensions, such as Month, Year, Date, Region, Country, etc. From there, you can drill down into increasingly higher-cardinality dimensions.</span></span> <span data-ttu-id="3a7ae-238">ヘルプデスクレポートとLocation-Enhancedレポートはどちらも、このドリルダウン ワークフローの優れた例を提供します。</span><span class="sxs-lookup"><span data-stu-id="3a7ae-238">The Helpdesk and Location-Enhanced Reports both provide good examples of this drill down workflow.</span></span>



## <a name="related-topics"></a><span data-ttu-id="3a7ae-239">関連トピック</span><span class="sxs-lookup"><span data-stu-id="3a7ae-239">Related topics</span></span>

[<span data-ttu-id="3a7ae-240">CQD Power BIデータを分析するには、次のコマンドを使用Teams</span><span class="sxs-lookup"><span data-stu-id="3a7ae-240">Use Power BI to analyze CQD data for Teams</span></span>](CQD-Power-BI-query-templates.md)
