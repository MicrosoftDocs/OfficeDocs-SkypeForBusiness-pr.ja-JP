---
title: Microsoft Teams アプリのアクセス許可と考慮事項
author: Lester-Hewett
ms.author: lehewe
manager: serdars
ms.date: 08/20/2018
ms.topic: article
ms.service: msteams
ms.collection: Teams_ITAdmin_PracticalGuidance
search.appverid: MET150
ms.reviewer: lehewe
description: 組織に対してアプリが要求しているデータアクセス許可について説明します。
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.openlocfilehash: f3ea7aaa57f6784487d662174554ec0086a87346
ms.sourcegitcommit: dd37c12a0312270955755ab2826adcfbae813790
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/04/2018
ms.locfileid: "25375749"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a>Microsoft Teams アプリのアクセス許可と考慮事項

Microsoft Teams アプリは、1 つまたは複数の機能がまとめられた、インストール、アップグレード、アンインストールすることができる_アプリ パッケージ_として提供されます。 次の機能が含まれます。

-   ボット
-   メッセージングの拡張機能
-   タブ
-   コネクタ

ポリシーの観点では、アプリはユーザーによって承諾され、IT 担当によって管理されます。 しかしながら、大部分において、アプリのアクセス許可とリスク プロファイルは、アプリに含まれる機能のアクセス許可とリスク プロファイルによって定義されます。 このため、この記事では、機能レベルでのアクセス許可と考慮事項について、焦点をあてます。

RECEIVE_MESSAGE や REPLYTO_MESSAGE のように、以下に大文字で一覧表示されたアクセス許可は、[Microsoft Teams 開発者向けドキュメント](https://aka.ms/teamsdevdocs)や [Microsoft Graph のアクセス許可](https://developer.microsoft.com/graph/docs/concepts/permissions_reference)にはまったく表示されません。 これらは、この記事で説明上の目的のために使われる省略表記です。


|    |     |
|-----------|------------|
| ![](media/audio_conferencing_image7.png) <br/>判断ポイント|<ul><li>下記の表は、調べているアプリが要求しているアクセス許可を知るためのガイドとして使用します。</li></ul> |
| ![](media/audio_conferencing_image9.png)<br/>次のステップ|<ul><li>アプリまたはサービス自体を調査して、自分の組織内でそのアプリやサービスへのアクセスを許可するかどうかを決めます。 たとえば、ボットがユーザーからのメッセージを送受信するが、それらのボットは、エンタープライズ向けの基幹業務ボットではない限り、コンプライアンスの範囲外の領域に配置されている場合です。 このため、ボットを含んでいるアプリは、これらのアクセス許可を必要とし、少なくともリスク プロファイルを持つことになります。 </li></ul>|

## <a name="global-app-permissions-and-considerations"></a>グローバル アプリのアクセス許可と考慮事項

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">なし</td>
    <td valign="top">なし</td>
    <td valign="top">アプリはどのデータを使用し、データが何のために使用されるかを、その使用規約およびプライバシー ポリシーのリンクで公開する必要があります。</td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a>ボットとメッセージングの拡張機能

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   RECEIVE_MESSAGE、REPLYTO_MESSAGE。 ボットはユーザーからメッセージを受信して、ユーザーに返信することができます。<sup>1</sup></li><li>POST_MESSAGE_USER。 ユーザーがメッセージをボットに送信した後、ボットはユーザーにダイレクト メッセージ (<em>プロアクティブ メッセージ</em>とも言います) をいつでも送信することができます。</li><li>GET_CHANNEL_LIST。 チームに追加されたボットは、チーム内のチャネルの名前と ID のリストを取得できます。</li></ul></td>
    <td valign="top"><ul><li>IDENTITY。 ときに & #39; s のチャンネル、アプリ & #39; で使用される s の bot (名、姓、名、ユーザー プリンシパル名 [UPN]、e メール アドレス) は、チーム メンバーの基本的な id 情報にアクセスできますときに & #39; s の個人またはグループのチャット、bot で使用されているそれらのユーザーに対して同じ情報にアクセスできます。</li><li> POST_MESSAGE_TEAM。 アプリ & #39; は、直接 (事前対応型) にメッセージを送信、チーム メンバーはいつでも場合でも、ユーザーは前に bot を説明しないが s の bot です。</li><li>以下は明示的なアクセス許可ではありませんが、RECEIVE_MESSAGE と REPLYTO_MESSAGE によって暗黙で示され、ボットを使用することができる範囲が明示的に宣言されています。 <ul><li>RECEIVE_MESSAGE_PERSONAL、REPLYTO_MESSAGE_PERSONAL。</li><li>RECEIVE_MESSAGE_GROUPCHAT、 REPLYTO_MESSAGE_GROUPCHAT<sup>2</sup> </li><li>RECEIVE_MESSAGE_TEAM、REPLYTO_MESSAGE_TEAM</li></ul><li>SEND_FILES、RECEIVE_FILES。<sup>3</sup> パーソナル チャットでファイルを送受信できるかどうかを制御します (グループ チャットやチャネルではサポートされていません)。</li></ul></td>
    <td valign="top"><ul><li>Bot がいるチームへのアクセスを必要があるだけ、& #39; ve されて追加されたか、それらをインストールしているユーザーにします。</li><li>Bot メッセージのみを受信する、& #39; re は、ユーザーが明示的に指定されています。 このデータは、企業ネットワークから出ることになります。</li><li>    Bot のみでの会話に返信する & #39; re が記載されています。</li><li>ユーザー & #39; bot が保存されている場合、ユーザーが、bot の conversed は、後の ID、メッセージを送信できるユーザー直接任意の時点。 </li><li>ボットのメッセージにフィッシングのリンクやマルウェアのサイトを含めるようにすることは理論的には可能ですが、ボットはユーザーやテナント管理者によって、またはマイクロソフトによってグローバルにブロックすることができます。 </li><li>ボットは、アプリが追加済みのチーム メンバーや、パーソナル チャットやグループ チャットの個別のユーザーについて、基本的な識別情報を取得 (および保存) することができます。 これらのユーザーについてより詳細な情報を取得するには、ボットがユーザーに対して Azure Active Directory (Azure AD) にサインインするよう要求する必要があります。 </li><li>ボットはチーム内のチャネルのリストを取得 (および保存) することができます。このデータは、企業ネットワークから出ることになります。 </li><li>ファイルがボットに送信されると、ファイルは企業ネットワークから出ることになります。 ファイルの送受信では、ファイルごとにユーザーの承認が必要です。 </li><li>既定、bot don & #39; によって、ユーザーの代わりに動作する機能が、bot がサインインするにはユーザーに問い合わせることができます。ユーザーがサインインするとすぐに bot が追加作業を実行できます、アクセス トークンがあります。 追加の操作が具体的に何であるかは、ボットによって、およびユーザーがどこでサインインしたかによって異なります。ボットは <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> で登録済みの Azure AD アプリで、独自のアクセス許可のセットを持っています。</li><li>ボットには、ユーザーが追加されたとき、およびチームから削除されたときに、必ず通知が入ります。</li><li>Bot don & #39; t を参照してくださいユーザー & #39;IP アドレスやその他の参照元の情報です。 すべての情報はマイクロソフトから提供されます。 (1 つの例外: bot は、独自のサインイン処理を実装する場合、サインインの UI を参照してくださいユーザー & #39;IP アドレスや参照元情報を使用します。)</li><li>メッセージングの拡張機能は、その一方で、操作を行いますを参照してくださいユーザー & #39;IP アドレス、参照元の情報。</li><li>アプリのガイドライン (および AppSource のレビュー プロセス) では、パーソナル チャットのメッセージを正当な目的で (POST_MESSAGE_TEAM のアクセス許可を介して) ユーザーに投稿することについての裁量権が要求されます。 迷惑行為が発生した場合、ユーザーがボットをブロックしたり、テナント管理者がアプリをブロックしたり、必要な場合はマイクロソフトがボットを一元的にブロックしたりすることができます。</li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><sup>1</sup></td><td colspan="3">一部のボットは、メッセージの送信のみを行います (POST_MESSAGE_USER)。 & #39; re と呼ばれる&quot;通知のみ&quot;bot が、用語ではありません & #39; t は、どのような bot を許可または許可しないを参照してください、ということで bot はありません & #39; t は、会話の経験を公開します。 チームでは、このフィールドを使用して、通常は有効になります; する UI の機能を無効にします。ボットは & #39; t が何で制限されていること & #39; s の会話の経験を公開しているボットに比較を行うに許可します。</td></tr>
<tr><td align="right"><sup>2</sup></td><td colspan="3">現在、開発者プレビューです。</td></tr>
<tr><td align="right"><sup>3</sup></td><td colspan="3">現在、開発者プレビューです。 アプリ用の manifest.json ファイル内のボット オブジェクトでの <code>supportsFiles</code> ブール値プロパティによって制御されます。</td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li>ボットに独自のサインイン方法がある場合は、ユーザーの初回サインイン時に使用される 2 つ目の別の同意エクスペリエンスがあります。</li><li>現在、Teams アプリ内のいずれかの機能 (ボット、タブ、コネクタ、またはメッセージングの拡張機能) に関連付けられている Azure AD のアクセス許可は、ここにリストされている Teams のアクセス許可とは完全に別のものです。</li></ul>


## <a name="tabs"></a>タブ

タブは、Teams 内部で実行される Web サイトです。

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">SEND_AND_RECEIVE_WEB_DATA</td>
    <td valign="top">なし (現在)。</td>
    <td valign="top"><ul><li>タブのリスク プロファイルは、ブラウザーのタブで実行される同じ Web サイトとほぼ同一です。 </li><li>タブは、のコンテキストを取得するも、& #39; s を実行して、サインイン名と現在のユーザーの UPN を含めて、Azure AD オブジェクト ID、現在のユーザーの Office 365 が置かれている、テナント ID をグループ (チーム) の ID、およびユーザーの現在のロケールです。 ただし、これらの Id をユーザー & #39; s について、タブにマップする必要が Azure AD にサインインするユーザーを作成します。</li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a>コネクタ

コネクタは、外部システムでイベントが発生したときに、チャネルにメッセージを投稿します。

  <table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">POST_MESSAGE_CHANNEL</td>
    <td valign="top">REPLYTO_CONNECTOR_MESSAGE。 特定のコネクタは<em>アクション可能メッセージ</em>をサポートしており、ユーザーはたとえば、GitHub の問題に対する回答を追加したり、Trello カードに日付を追加したりすることによって、コネクタ メッセージに対象を絞った返信を投稿することができます。</td>
    <td valign="top"><ul><li>システム コネクタのメッセージではありません & #39 を投稿する; t を知っている & #39; s の投稿またはメッセージを受信するユーザー: 受信者に関する情報が公開されません。 (テナントではなく、Microsoft が実際の受信者です。Microsoft は、チャネルに対する実際の投稿を行います。)</li><li>コネクタ メッセージがチャネルに投稿されるときに、企業ネットワークから出てくるデータはありません。</li><li>Don & #39 も実践的なメッセージ (REPLYTO_CONNECTOR_MESSAGE のアクセス許可) をサポートするコネクタ; t,「IP アドレスと参照元情報です。この情報がマイクロソフトに送信され、コネクタ ポータルで、マイクロソフトに登録されていた HTTP エンドポイントにルーティングされます。</li><li>コネクタがチャネルに対して構成されるたびに、そのコネクタ インスタンスの一意の URL が作成されます。 そのコネクタ インスタンスが削除されると、URL は使用することができなくなります。</li><li>コネクタ メッセージことができます & #39; t の添付ファイルが含まれています。</li><li>コネクタ インスタンス URL は秘密/機密として取り扱われる必要があります。その URL を知っている人はすべて、メール アドレスのように、そこに投稿することができます。 したがって、ある & #39; s スパムやフィッシング詐欺やマルウェアのサイトへのリンクのいくつかのリスクです。 そのような状況が起こる場合は、チーム所有者がコネクタ インスタンスを削除することができます。</li><li>コネクタ メッセージを送信するサービスが危殆化し、スパムやフィッシングやマルウェアのリンクを送信し始めた場合は、テナント管理者が新しいコネクタ インスタンスが作成されるのを防止したり、マイクロソフトがそれらを一元的にブロックしたりすることができます。</li></ul></td>
  </tr>
</table>

> [!Note]
> 現時点では、どのコネクタがアクション可能なメッセージ (REPLYTO_CONNECTOR_MESSAGE アクセス許可) をサポートしているかを判別することはできません。


## <a name="outgoing-webhooks"></a>発信 Webhook

_発信 Webhook_ は、テナントでサイドローディングが有効になっている場合に、その場でチーム所有者やチーム メンバーによって作成されます。 これらの機能は Teams アプリのものではありませんが、完全な情報を提供するためにここに記載されています。

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
    <tr>
    <td valign="top">RECEIVE_MESSAGE、REPLYTO_MESSAGE。 ユーザーからメッセージを受信して、ユーザーに返信することができます。</td>
    <td valign="top">なし</td>
    <td valign="top"><ul><li>発信 Webhook はボットに似ていますが、利用できる特権はより少ないです。 ボットと同様に、明示的にメンションされる必要があります。</li><li>発信 Webhook が登録されると、<em>secret</em> が生成され、これにより発信 Webhook は、送信者が Microsoft Teams であることを、悪意のある攻撃者と対比して、確認することができます。 この secret は、秘密のまま保持されます。これにアクセスできるユーザーはすべて、Microsoft Teams に成りすますことができます。 この secret が危殆化すると発信 Webhook は削除され再作成されて、新しい secret が生成されます。</li><li>ですが、& #39 s ではありません & #39、発信 webhook を作成すること; t は、機密情報の検証、しまうことをお勧めします。</li><li>T では受信および返信メッセージ、発信の webhooks ことができます & #39; 以外はほとんど: は & #39; t が積極的にメッセージを送信、ことができます & #39; t を送信または、ファイルを受信は & #39; 他の操作を受信および返信する bot を除くことはできません。メッセージです。</li></ul></td>
  </tr>
</table>