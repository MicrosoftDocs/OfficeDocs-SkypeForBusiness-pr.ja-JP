---
title: Microsoft Teams アプリのアクセス許可と考慮事項
author: Lester-Hewett
ms.author: lehewe
manager: serdars
ms.date: 08/20/2018
ms.topic: article
ms.service: msteams
ms.collection: Teams_ITAdmin_PracticalGuidance
search.appverid: MET150
ms.reviewer: lehewe
description: 組織に対してアプリが要求しているデータアクセス許可について説明します。
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.openlocfilehash: 960f54f27b7019d15d287c637c7c58f73dfdef0f
ms.sourcegitcommit: 9acf2f80cbd55ba2ff6aab034757cc053287485f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/25/2018
ms.locfileid: "25014188"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a>Microsoft Teams アプリのアクセス許可と考慮事項

マイクロソフト チームのアプリケーションは、インストール、アップグレード、およびアンインストールできる_アプリケーションのパッケージ_に 1 つまたは複数の機能を集約する方法です。 機能は次のとおりです。

-   ボット
-   メッセージングの拡張機能
-   タブ
-   コネクタ

アプリケーションがユーザーに同意したし、によって管理されているポリシーの観点から IT です。 ただし、ほとんどの場合、アプリケーションのアクセス許可とリスクのプロファイルによって定義されます、アクセス許可とリスクのプロファイルが含まれている機能の。 そのため、この資料では、アクセス許可と機能レベルでの考慮事項について説明します。

大文字で RECEIVE_MESSAGE と REPLYTO_MESSAGE では、たとえば次に示すアクセス許可は、[マイクロソフトのチームの開発者向けドキュメント](https://aka.ms/teamsdevdocs)や[Microsoft Graph のアクセス許可](https://developer.microsoft.com/graph/docs/concepts/permissions_reference)で任意の場所に表示されません。 この資料の目的でわかりやすい簡単なだけであります。


|    |     |
|-----------|------------|
| ![](media/audio_conferencing_image7.png) <br/>判断ポイント|<ul><li>下記の表は、調べているアプリが要求しているアクセス許可を知るためのガイドとして使用します。</li></ul> |
| ![](media/audio_conferencing_image9.png)<br/>次のステップ|<ul><li>アプリケーションを調査またはサービス自体を組織内でアクセスを許可するかどうかを決定します。 Bot 送信など、ユーザーからメッセージを受信と -企業の基幹業務の bot 以外: コンプライアンスの境界の外側に配置します。 したがって、bot を含むすべてのアプリケーションはこれらのアクセス許可が必要ですし、少なくともそのリスクのプロファイルには。 </li></ul>|

## <a name="global-app-permissions-and-considerations"></a>グローバル アプリのアクセス許可と考慮事項

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">なし</td>
    <td valign="top">なし</td>
    <td valign="top">アプリはどのデータを使用し、データが何のために使用されるかを、その使用規約およびプライバシー ポリシーのリンクで公開する必要があります。</td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a>ボットとメッセージングの拡張機能

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   RECEIVE_MESSAGE、REPLYTO_MESSAGE。 Bot では、ユーザーからメッセージを受信でき、それらに返信することができます。<sup>1</sup></li><li>POST_MESSAGE_USER。 ユーザーが bot にメッセージを送信した後、bot メッセージを送信できるユーザー直接 (_事前対応型のメッセージ_とも呼ばれます) はいつでもします。</li><li>GET_CHANNEL_LIST。 Bot のチームに追加は、チーム内のチャネルの名前および Id の一覧を取得できます。</li></ul></td>
    <td valign="top"><ul><li>ID です。 (名、姓、名、ユーザー プリンシパル名 [UPN]、e メール アドレス) は、チーム メンバーの基本的な id 情報をアプリケーションのコンポーネントにアクセスできるチャネルでそれを使用する場合個人またはグループのチャットでそれを使用する場合、ボットはそれらのユーザーに対して同じ情報にアクセスできます。</li><li> POST_MESSAGE_TEAM。 場合でも、ユーザーは前に bot を説明しないが、直接 (事前対応型) にメッセージを送信、チーム メンバーはいつでもアプリケーションのコンポーネントを使用できます。</li><li>以下は明示的なアクセス許可ではありませんが、RECEIVE_MESSAGE と REPLYTO_MESSAGE によって暗黙で示され、ボットを使用することができる範囲が明示的に宣言されています。 <ul><li>RECEIVE_MESSAGE_PERSONAL、REPLYTO_MESSAGE_PERSONAL。</li><li>RECEIVE_MESSAGE_GROUPCHAT、 REPLYTO_MESSAGE_GROUPCHAT<sup>2</sup> </li><li>RECEIVE_MESSAGE_TEAM、REPLYTO_MESSAGE_TEAM</li></ul><li>SEND_FILES、RECEIVE_FILES。<sup>3</sup> パーソナル チャットでファイルを送受信できるかどうかを制御します (グループ チャットやチャネルではサポートされていません)。</li></ul></td>
    <td valign="top"><ul><li>ボットは、ボットが追加済みのチームまたはボットをインストールしたユーザーに対してのみアクセスすることができます。</li><li>ボットでして明示的に指定されてユーザーがメッセージを受信するのみです。 このデータは、企業ネットワークを残します。</li><li>    ボットは、自身がメンションされた会話に対してのみ、返信することができます。</li><li>ユーザーがボットと会話した後にボットがユーザーの ID を保存すると、ボットはそのユーザーにいつでもダイレクト メッセージを送信することができます。 </li><li>ボットのメッセージにフィッシングのリンクやマルウェアのサイトを含めるようにすることは理論的には可能ですが、ボットはユーザーやテナント管理者によって、またはマイクロソフトによってグローバルにブロックすることができます。 </li><li>Bot を取得できます (および格納可能性があります)、アプリケーションの追加には、チーム メンバーや個人またはグループのチャットの個々 のユーザーの非常に基本的な id 情報。 さらにこれらのユーザーに関する情報を取得、bot は Azure Active Directory (AD の Azure) にサインインすることを求める必要があります。 </li><li>ボットはチーム内のチャネルのリストを取得 (および保存) することができます。このデータは、企業ネットワークから出ることになります。 </li><li>Bot にファイルを送信すると、ファイルは、企業ネットワークを残します。 ファイルを送受信するファイルごとにユーザーの承認が必要です。 </li><li>既定では、ボットは、ユーザーの代わりに動作する機能を持っていないが、bot がサインインするにはユーザーに問い合わせることができます。ユーザーがサインインするとすぐに bot が追加作業を実行できます、アクセス トークンがあります。 Bot と、ユーザーがサインインした場所によって異なります正確にどのようなこれらの要素を追加、: bot に登録されている AD の Azure アプリケーションでは<a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a>と、独自のアクセス許可のセットを持つことができます。</li><li>ボットには、ユーザーが追加されたとき、およびチームから削除されたときに、必ず通知が入ります。</li><li>ボットは、ユーザーの IP アドレスまたはその他の参照元の情報に表示されていません。 すべての情報は、Microsoft から取得されます。 (1 つの例外: ユーザーの IP アドレスと参照元の情報にサインインしている UI が表示されます bot は、独自のサインイン処理を実装する場合です)。</li><li>一方、メッセージングの拡張機能では、ユーザーの IP アドレスおよび参照元の情報を表示します。</li><li>アプリのガイドラインなど、AppSource のレビュー プロセス用に有効な (POST_MESSAGE_TEAM のアクセス許可) を使用してユーザーに個人用のチャット メッセージを投稿することで判断が必要です。 迷惑行為、発生時にユーザーは、ボットをブロックできます、テナント管理者は、アプリケーションをブロックできます Microsoft ブロック bot 集中的に必要な場合。</li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><sup>1</sup></td><td colspan="3">いくつかのボットは、(POST_MESSAGE_USER) のメッセージを送信するのみです。 呼ばれるロボットの「通知のみ」、しかしという用語は、どのような bot を許可または許可しないを参照してください会話経験を公開する bot が望まないことを意味しますしますです。 チームでは、このフィールドを使用して、通常は有効になります; する UI の機能を無効にします。bot は、何がすることを許可しないで会話の経験を公開しているボットに比較に縛られない。</td></tr>
<tr><td align="right"><sup>2</sup></td><td colspan="3">現在、開発者プレビューです。</td></tr>
<tr><td align="right"><sup>3</sup></td><td colspan="3">Developer Preview 現在の。 によって管理される、<code>supportsFiles</code>アプリケーションの manifest.json ファイル内の bot オブジェクトにブール型のプロパティです。</td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li>ボットに独自のサインイン方法がある場合は、ユーザーの初回サインイン時に使用される 2 つ目の別の同意エクスペリエンスがあります。</li><li>現在、Teams アプリ内のいずれかの機能 (ボット、タブ、コネクタ、またはメッセージングの拡張機能) に関連付けられている Azure AD のアクセス許可は、ここにリストされている Teams のアクセス許可とは完全に別のものです。</li></ul>


## <a name="tabs"></a>タブ

タブは、Teams 内部で実行される Web サイトです。

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">SEND_AND_RECEIVE_WEB_DATA</td>
    <td valign="top">なし (現在)。</td>
    <td valign="top"><ul><li>タブのリスク プロファイルは、ブラウザーのタブで実行される同じ Web サイトとほぼ同一です。 </li><li>タブは、また、コンテキストになっているサインイン名を含めると、オフィスの ID、現在のユーザーの 365 グループ (チーム) が置かれているでは、テナント ID とユーザーの現在のロケール ID、現在のユーザーでは、Azure AD オブジェクトの UPN を取得します。 ただし、ユーザーの情報には、これらの Id をマップするには、タブは Azure AD にサインインするユーザーを作成する必要があります。</li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a>コネクタ

コネクタは、外部システムでイベントが発生したときに、チャネルにメッセージを投稿します。

  <table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">POST_MESSAGE_CHANNEL</td>
    <td valign="top">REPLYTO_CONNECTOR_MESSAGE。 特定のコネクタは、GitHub の問題への応答を追加することや、Trello カードに日付を追加するなどの対象となるメッセージへの返信、コネクタを投稿するユーザーを許可する、_実践的なメッセージ_をサポートします。</td>
    <td valign="top"><ul><li>投稿することは、ユーザーまたはメッセージを受信したコネクタのメッセージを投稿するシステムを知らない: 受信者に関する情報が公開されません。 (マイクロソフトでは、実際の受信者では、テナントされません。マイクロソフトはチャネルへの実際のポスト。</li><li>コネクタ メッセージがチャネルに投稿されるときに、企業ネットワークから出てくるデータはありません。</li><li>アクション可能なメッセージをサポートするコネクタ (REPLYTO_CONNECTOR_MESSAGE アクセス許可) も、IP アドレスや参照元の情報を表示しません。この情報は、マイクロソフトに送信され、コネクタ ポータルで以前に Microsoft で登録された HTTP エンドポイントにルーティングされます。</li><li>チャネルのコネクタが構成されているたびに、そのコネクタのインスタンスの一意な URL が作成されます。 そのコネクタのインスタンスが削除された場合、URL が使用されなくことができます。</li><li>コネクタのメッセージに、添付ファイルを含めることはできません。</li><li>コネクタのインスタンスの URL は、シークレットと機密情報として扱う必要が: すべてのユーザーに URL を投稿できることなどの電子メール アドレスです。 したがって、スパムやフィッシング詐欺やマルウェアのサイトへのリンクのいくつかのリスクがあります。 発生する場合、チームの所有者は、コネクタのインスタンスを削除できます。</li><li>コネクタ メッセージを送信するサービスが危殆化し、スパムやフィッシングやマルウェアのリンクを送信し始めた場合は、テナント管理者が新しいコネクタ インスタンスが作成されるのを防止したり、マイクロソフトがそれらを一元的にブロックしたりすることができます。</li></ul></td>
  </tr>
</table>

> [!Note]
> 現時点では、どのコネクタがアクション可能なメッセージ (REPLYTO_CONNECTOR_MESSAGE アクセス許可) をサポートしているかを判別することはできません。


## <a name="outgoing-webhooks"></a>発信 Webhook

_発信 webhooks_は、テナントの sideloading が有効になっている場合、その場でチーム メンバーやチームの所有者によって作成されます。 チームのアプリケーションでの機能ではありません。この情報では、完全を期すのために含まれています。

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
    <tr>
    <td valign="top">RECEIVE_MESSAGE、REPLYTO_MESSAGE。 ユーザーからメッセージを受信し、それらに返信できます。</td>
    <td valign="top">なし</td>
    <td valign="top"><ul><li>送信 webhooks は bot に似ていますより少ない特権を持っています。 する必要があります明示的に説明、ボットと同じようにします。</li><li>送信、webhook を登録すると、_シークレット_が生成されます。 送信者の悪意のある攻撃者ではなくマイクロソフトのチームがあることを確認するのには送信 webhook を作成することができます。 このシークレットは、シークレットを維持する必要があります。アクセス権を持つ任意のユーザーは、マイクロソフトのチームを偽装できます。 機密情報が危険にさらされた場合、送信 webhook を削除し、再作成、新しいシークレットが生成されます。</li><li>secret を確認しない発信 Webhook を作成することは可能ですが、お勧めできません。</li><li>メッセージを受信したり返信したりすること以外に、発信 Webhook ができることはありません。事前のメッセージの送信や、ファイルの送受信などのボットができる操作は、メッセージの送受信を除いて行うことができません。</li></ul></td>
  </tr>
</table>