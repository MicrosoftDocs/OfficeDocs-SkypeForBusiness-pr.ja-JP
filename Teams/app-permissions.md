---
title: Microsoft Teams アプリのアクセス許可と考慮事項
author: Lester-Hewett
ms.author: lehewe
manager: serdars
ms.date: 10/18/2018
ms.topic: article
ms.service: msteams
ms.collection: Teams_ITAdmin_PracticalGuidance
search.appverid: MET150
ms.reviewer: lehewe
description: 組織に対してアプリが要求しているデータアクセス許可について説明します。
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.openlocfilehash: da1c22852f12bad79413d8b1f57d129be4e0ffcd
ms.sourcegitcommit: 044286f9dec2743a622bdaeac03469418cfdfa0d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/19/2018
ms.locfileid: "25678403"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a>Microsoft Teams アプリのアクセス許可と考慮事項

Microsoft Teams アプリは、1 つまたは複数の機能がまとめられた、インストール、アップグレード、アンインストールすることができる_アプリ パッケージ_として提供されます。 次の機能が含まれます。

-   ボット
-   メッセージングの拡張機能
-   タブ
-   コネクタ

ポリシーの観点では、アプリはユーザーによって承諾され、IT 担当によって管理されます。 しかしながら、大部分において、アプリのアクセス許可とリスク プロファイルは、アプリに含まれる機能のアクセス許可とリスク プロファイルによって定義されます。 このため、この記事では、機能レベルでのアクセス許可と考慮事項について、焦点をあてます。

RECEIVE_MESSAGE や REPLYTO_MESSAGE のように、以下に大文字で一覧表示されたアクセス許可は、[Microsoft Teams 開発者向けドキュメント](https://aka.ms/teamsdevdocs)や [Microsoft Graph のアクセス許可](https://developer.microsoft.com/graph/docs/concepts/permissions_reference)にはまったく表示されません。 これらは、この記事で説明上の目的のために使われる省略表記です。


|    |     |
|-----------|------------|
| ![](media/audio_conferencing_image7.png) <br/>判断ポイント|<ul><li>下記の表は、調べているアプリが要求しているアクセス許可を知るためのガイドとして使用します。</li></ul> |
| ![](media/audio_conferencing_image9.png)<br/>次のステップ|<ul><li>アプリまたはサービス自体を調査して、自分の組織内でそのアプリやサービスへのアクセスを許可するかどうかを決めます。 たとえば、ボットがユーザーからのメッセージを送受信するが、それらのボットは、エンタープライズ向けの基幹業務ボットではない限り、コンプライアンスの範囲外の領域に配置されている場合です。 このため、ボットを含んでいるアプリは、これらのアクセス許可を必要とし、少なくともリスク プロファイルを持つことになります。 </li></ul>|

## <a name="global-app-permissions-and-considerations"></a>グローバル アプリのアクセス許可と考慮事項

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">なし</td>
    <td valign="top">なし</td>
    <td valign="top">アプリはどのデータを使用し、データが何のために使用されるかを、その使用規約およびプライバシー ポリシーのリンクで公開する必要があります。</td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a>ボットとメッセージングの拡張機能

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   RECEIVE_MESSAGE、REPLYTO_MESSAGE。 ボットはユーザーからメッセージを受信して、ユーザーに返信することができます。<sup>1</sup></li><li>POST_MESSAGE_USER。 ユーザーがメッセージをボットに送信した後、ボットはユーザーにダイレクト メッセージ (<em>プロアクティブ メッセージ</em>とも言います) をいつでも送信することができます。</li><li>GET_CHANNEL_LIST。 チームに追加されたボットは、チーム内のチャネルの名前と ID のリストを取得できます。</li></ul></td>
    <td valign="top"><ul><li>IDENTITY。 ときに & #39; s のチャンネル、アプリ & #39; で使用される s の bot (名、姓、名、ユーザー プリンシパル名 [UPN]、e メール アドレス) は、チーム メンバーの基本的な id 情報にアクセスできますときに & #39; s の個人またはグループのチャット、bot で使用されているそれらのユーザーに対して同じ情報にアクセスできます。</li><li> POST_MESSAGE_TEAM。 アプリ & #39; は、直接 (事前対応型) にメッセージを送信、チーム メンバーはいつでも場合でも、ユーザーは前に bot を説明しないが s の bot です。</li><li>以下は明示的なアクセス許可ではありませんが、RECEIVE_MESSAGE と REPLYTO_MESSAGE によって暗黙で示され、ボットを使用することができる範囲が明示的に宣言されています。 <ul><li>RECEIVE_MESSAGE_PERSONAL、REPLYTO_MESSAGE_PERSONAL。</li><li>RECEIVE_MESSAGE_GROUPCHAT、 REPLYTO_MESSAGE_GROUPCHAT<sup>2</sup> </li><li>RECEIVE_MESSAGE_TEAM、REPLYTO_MESSAGE_TEAM</li></ul><li>SEND_FILES、RECEIVE_FILES。<sup>3</sup> パーソナル チャットでファイルを送受信できるかどうかを制御します (グループ チャットやチャネルではサポートされていません)。</li></ul></td>
    <td valign="top"><ul><li>Bot がいるチームへのアクセスを必要があるだけ、& #39; ve されて追加されたか、それらをインストールしているユーザーにします。</li><li>Bot メッセージのみを受信する、& #39; re は、ユーザーが明示的に指定されています。 このデータは、企業ネットワークから出ることになります。</li><li>    Bot のみでの会話に返信する & #39; re が記載されています。</li><li>ユーザー & #39; bot が保存されている場合、ユーザーが、bot の conversed は、後の ID、メッセージを送信できるユーザー直接任意の時点。 </li><li>ボットのメッセージにフィッシングのリンクやマルウェアのサイトを含めるようにすることは理論的には可能ですが、ボットはユーザーやテナント管理者によって、またはマイクロソフトによってグローバルにブロックすることができます。 </li><li>ボットは、アプリが追加済みのチーム メンバーや、パーソナル チャットやグループ チャットの個別のユーザーについて、基本的な識別情報を取得 (および保存) することができます。 これらのユーザーについてより詳細な情報を取得するには、ボットがユーザーに対して Azure Active Directory (Azure AD) にサインインするよう要求する必要があります。 </li><li>ボットはチーム内のチャネルのリストを取得 (および保存) することができます。このデータは、企業ネットワークから出ることになります。 </li><li>ファイルがボットに送信されると、ファイルは企業ネットワークから出ることになります。 ファイルの送受信では、ファイルごとにユーザーの承認が必要です。 </li><li>既定、bot don & #39; によって、ユーザーの代わりに動作する機能が、bot がサインインするにはユーザーに問い合わせることができます。ユーザーがサインインするとすぐに bot が追加作業を実行できます、アクセス トークンがあります。 追加の操作が具体的に何であるかは、ボットによって、およびユーザーがどこでサインインしたかによって異なります。ボットは <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> で登録済みの Azure AD アプリで、独自のアクセス許可のセットを持っています。</li><li>ボットには、ユーザーが追加されたとき、およびチームから削除されたときに、必ず通知が入ります。</li><li>Bot don & #39; t を参照してくださいユーザー & #39;IP アドレスやその他の参照元の情報です。 すべての情報はマイクロソフトから提供されます。 (1 つの例外: bot は、独自のサインイン処理を実装する場合、サインインの UI を参照してくださいユーザー & #39;IP アドレスや参照元情報を使用します。)</li><li>メッセージングの拡張機能は、その一方で、操作を行いますを参照してくださいユーザー & #39;IP アドレス、参照元の情報。</li><li>アプリのガイドライン (および AppSource のレビュー プロセス) では、パーソナル チャットのメッセージを正当な目的で (POST_MESSAGE_TEAM のアクセス許可を介して) ユーザーに投稿することについての裁量権が要求されます。 迷惑行為が発生した場合、ユーザーがボットをブロックしたり、テナント管理者がアプリをブロックしたり、必要な場合はマイクロソフトがボットを一元的にブロックしたりすることができます。</li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><sup>1</sup></td><td colspan="3">一部のボットは、メッセージの送信のみを行います (POST_MESSAGE_USER)。 & #39; re と呼ばれる&quot;通知のみ&quot;bot が、用語ではありません & #39; t は、どのような bot を許可または許可しないを参照してください、ということで bot はありません & #39; t は、会話の経験を公開します。 チームでは、このフィールドを使用して、通常は有効になります; する UI の機能を無効にします。ボットは & #39; t が何で制限されていること & #39; s の会話の経験を公開しているボットに比較を行うに許可します。</td></tr>
<tr><td align="right"><sup>2</sup></td><td colspan="3">現在、開発者プレビューです。</td></tr>
<tr><td align="right"><sup>3</sup></td><td colspan="3">によって管理される、<code>supportsFiles</code>アプリケーションの manifest.json ファイル内の bot オブジェクトにブール型のプロパティです。</td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li>独自記号には、bot が含まれる場合は、1 秒-別-同意経験初めてのユーザーに署名します。</li><li>現在、(bot、タブ、コネクタ、またはメッセージングの拡張機能) は、チーム アプリケーション内の機能のいずれかに関連付けられた Azure AD のアクセス許可は、チームのアクセス許可の一覧をここから完全に独立しました。</li></ul>


## <a name="tabs"></a>タブ

タブは、チーム内で実行される web サイトです。

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">SEND_AND_RECEIVE_WEB_DATA</td>
    <td valign="top">[なし] (現在)。</td>
    <td valign="top"><ul><li>タブのリスク プロファイルは、[ブラウザー] タブで実行されている同じ web サイトとほぼ同じです。 </li><li>タブは、のコンテキストを取得するも、& #39; s を実行して、サインイン名と現在のユーザーの UPN を含めて、Azure AD オブジェクト ID、現在のユーザーの Office 365 が置かれている、テナント ID をグループ (チーム) の ID、およびユーザーの現在のロケールです。 ただし、これらの Id をユーザー & #39; s について、タブにマップする必要が Azure AD にサインインするユーザーを作成します。</li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a>コネクタ

コネクタは、外部システム内のイベントの発生時にチャネルにメッセージを投稿します。

  <table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
  <tr>
    <td valign="top">POST_MESSAGE_CHANNEL</td>
    <td valign="top">REPLYTO_CONNECTOR_MESSAGE。 特定のコネクタは、GitHub の問題への応答を追加することや、Trello カードに日付を追加するなどの対象となるメッセージへの返信、コネクタを投稿するユーザーを許可する、<em>実践的なメッセージ</em>をサポートします。</td>
    <td valign="top"><ul><li>システム コネクタのメッセージではありません & #39 を投稿する; t を知っている & #39; s の投稿またはメッセージを受信するユーザー: 受信者に関する情報が公開されません。 (マイクロソフトでは、実際の受信者では、テナントされません。マイクロソフトはチャネルへの実際のポスト。</li><li>データなしのままに企業ネットワークのチャネルにコネクタのメッセージが転記されるときです。</li><li>Don & #39 も実践的なメッセージ (REPLYTO_CONNECTOR_MESSAGE のアクセス許可) をサポートするコネクタ; t,「IP アドレスと参照元情報です。この情報がマイクロソフトに送信され、コネクタ ポータルで、マイクロソフトに登録されていた HTTP エンドポイントにルーティングされます。</li><li>チャネルのコネクタが構成されているたびに、そのコネクタのインスタンスの一意な URL が作成されます。 そのコネクタのインスタンスが削除された場合、URL が使用されなくことができます。</li><li>コネクタ メッセージことができます & #39; t の添付ファイルが含まれています。</li><li>コネクタのインスタンスの URL は、シークレットと機密情報として扱う必要が: すべてのユーザーに URL を投稿できることなどの電子メール アドレスです。 したがって、ある & #39; s スパムやフィッシング詐欺やマルウェアのサイトへのリンクのいくつかのリスクです。 発生する場合、チームの所有者は、コネクタのインスタンスを削除できます。</li><li>コネクタ メッセージを無効にして、スパム/フィッシング/マルウェアのリンクを送信を開始するが送信するサービス、テナント管理者がコネクタの新しいインスタンス作成されないようにするし、Microsoft が集中的にブロックします。</li></ul></td>
  </tr>
</table>

> [!Note]
> 現在では、実践的なメッセージ (REPLYTO_CONNECTOR_MESSAGE のアクセス許可) をサポートするコネクタを確認することはできません。


## <a name="outgoing-webhooks"></a>発信 webhooks

_発信 webhooks_は、テナントの sideloading が有効になっている場合、その場でチーム メンバーやチームの所有者によって作成されます。 チームのアプリケーションでの機能ではありません。この情報では、完全を期すのために含まれています。

<table>
  <tr>
    <th width="25%">必要なアクセス許可</th>
    <th width="25%">オプションのアクセス許可</th>
    <th width="50%">考慮事項</th>
  </tr>
    <tr>
    <td valign="top">RECEIVE_MESSAGE、REPLYTO_MESSAGE。 ユーザーからメッセージを受信し、それらに返信できます。</td>
    <td valign="top">なし</td>
    <td valign="top"><ul><li>送信 webhooks は bot に似ていますより少ない特権を持っています。 する必要があります明示的に説明、ボットと同じようにします。</li><li>送信、webhook を登録すると、<em>シークレット</em>が生成されます。 送信者の悪意のある攻撃者ではなくマイクロソフトのチームがあることを確認するのには送信 webhook を作成することができます。 このシークレットは、シークレットを維持する必要があります。アクセス権を持つ任意のユーザーは、マイクロソフトのチームを偽装できます。 機密情報が危険にさらされた場合、送信 webhook を削除し、再作成、新しいシークレットが生成されます。</li><li>ですが、& #39 s ではありません & #39、発信 webhook を作成すること; t は、機密情報の検証、しまうことをお勧めします。</li><li>T では受信および返信メッセージ、発信の webhooks ことができます & #39; 以外はほとんど: は & #39; t が積極的にメッセージを送信、ことができます & #39; t を送信または、ファイルを受信は & #39; 他の操作を受信および返信する bot を除くことはできません。メッセージです。</li></ul></td>
  </tr>
</table>
