---
title: Lync Server 2013 でのフロントエンド サーバーのアップグレードまたは更新
TOCTitle: Lync Server 2013 でのフロントエンド サーバーのアップグレードまたは更新
ms:assetid: 20fa39ae-ecfb-4c72-9cc4-8e183d3c752f
ms:mtpsurl: https://technet.microsoft.com/ja-jp/library/JJ204736(v=OCS.15)
ms:contentKeyID: 48271484
ms.date: 05/19/2016
mtps_version: v=OCS.15
ms.translationtype: HT
---

# Lync Server 2013 でのフロントエンド サーバーのアップグレードまたは更新

 

_**トピックの最終更新日:** 2013-06-28_

Enterprise Edition プール内のフロントエンド サーバーは、アップグレード ドメインにまとめられます。これらはプール内のフロントエンド サーバーのサブセットです。アップグレード ドメインはトポロジ ビルダーによって自動的に作成されます。

サーバーをアップグレードするときは、一度に 1 つのアップグレード ドメインでサーバーをアップグレードする必要があります。1 つのアップグレード ドメインの各サーバーを停止し、アップグレードして再起動した後で、次のアップグレード ドメインに着手します。アップグレードがどのアップグレード ドメインおよびサーバーまで終わったかを必ず把握しておいてください。各サーバーをアップグレードするときは、次のフローチャート図を使用してください。

![サーバーのアップグレード フローチャート](images/JJ204736.42ed59a4-1c26-49f7-ade4-a5a788457ab9(OCS.15).jpg "サーバーのアップグレード フローチャート")

## プール内のフロントエンド サーバーにアップグレードを適用する

1.  プール内のフロントエンド サーバーで、次のコマンドレットを実行します。
    
    **Get-CsPoolUpgradeReadinessState**
    
    *PoolUpgradeState* の値が **Busy** の場合は、10 分間待ってから **Get-CsPoolUpgradeReadinessState** を再度実行します。コマンドレッドを 10 分間隔で実行し、3 回以上連続して **Busy** が表示された場合、または **PoolUpgradeState** の結果が **InsufficientActiveFrontEnds** と表示される場合は、プールに問題があります。このプールが障害復旧トポロジの別のフロントエンド プールとペアになっている場合は、プールをバックアップ プールにフェールオーバーし、そのプール内のサーバーを更新します。詳細については、「[Lync Server 2013 でのプールのフェールオーバー](lync-server-2013-failing-over-a-pool.md)」を参照してください。
    
    PoolUpgradeState の値が **Ready** の場合は、手順 2. に進みます。

2.  **Get-CsPoolUpgradeReadinessState** コマンドレットを実行すると、プール内の各アップグレード ドメインに関する情報と、各アップグレード ドメインに含まれるフロントエンド サーバーに関する情報も返されます。アップグレードするサーバーがあるアップグレード ドメインで **ReadyforUpgrade** の値が **True** になっていれば、今すぐそのサーバーを安全にアップグレードできます。アップグレードを行うには、次の手順を実行します。
    
    1.  `Stop-CsWindowsService -Graceful -Verbose` コマンドレットを使用して、アップグレードするフロントエンド サーバーに対する新しい接続を停止します。
        
        > [!NOTE]  
        > スケジュールされたサーバー ダウンタイムにサーバーのアップグレードを実行する場合は、このコマンドレットを -<strong>Graceful</strong> パラメーターなしで実行できます (<strong>Stop-CsWindowsService</strong> のようにします)。こうすると、すべての既存サービス要求が処理されるまで待たずに、サービスが直ちにシャットダウンされます。
    
    2.  このアップグレード ドメインに関連付けられたサーバーをアップグレードします。
    
    3.  サーバーを再起動し、サーバーが新しい接続を受け付けていることを確認します。

3.  プール内のその他のアップグレード ドメインごとに手順 1 と 2 を繰り返し、すべてのフロント エンド サーバーをアップグレードします。

