---
title: Skype の最後のサーバーの高可用性をビジネスのサーバーのバックアップします。
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
ms.audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: c559aacb-4e1d-4e78-9582-41f966ad418d
description: ビジネス サーバーには、AlwaysOn 可用性グループ、AlwaysOn フェールオーバー クラスター インスタンス、データベース ミラーリング、SQL のフェールオーバー クラスタ リングなど、Skype でサポートされているバック エンド サーバーの高可用性オプションについて説明します。
ms.openlocfilehash: d40ceb237ff52434074de29363704fdb1de5b78c
ms.sourcegitcommit: bb53f131fabb03a66f0d000f8ba668fbad190778
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/11/2019
ms.locfileid: "33916559"
---
# <a name="back-end-server-high-availability-in-skype-for-business-server"></a>Skype の最後のサーバーの高可用性をビジネスのサーバーのバックアップします。
 
ビジネス サーバーには、AlwaysOn 可用性グループ、AlwaysOn フェールオーバー クラスター インスタンス、データベース ミラーリング、SQL のフェールオーバー クラスタ リングなど、Skype でサポートされているバック エンド サーバーの高可用性オプションについて説明します。
  
バックエンド サーバーの高可用性を強化するには、以下の 4 つの選択肢があります。
  
- データベース ミラーリング
    
- AlwaysOn 可用性グループ
    
- AlwaysOn フェールオーバー クラスターのインスタンス (FCI)
    
- SQL フェールオーバー クラスタリング
    
これらのソリューションのいずれかの使用はオプションですが、組織のビジネス継続性を維持するには推奨されます。 それ以外の場合、1 つのデータベース サーバーがダウンすることでしたがビジネスのサーバーのデータの重要な Skype の失われる。 
  
トポロジ ビルダーだけを使用してデータベースのミラーリングを設定できます。 AlwaysOn 可用性グループ、AlwaysOn フェールオーバー クラスター インスタンス、または SQL のフェールオーバー クラスタ リングでは、SQL Server を使用して、高可用性ソリューションを作成するし、トポロジ ビルダーを使用するには、フロント エンド プールに関連付けることにします。
  
災害復旧のための別のフロント エンド プールとフロント エンド プールのバック エンド サーバーの高可用性を使用する場合は、両方のプールに同じバックエンドの高可用性ソリューションを使用してください。 
  
## <a name="database-mirroring"></a>データベース ミラーリング

ビジネス サーバーの Skype では、次のデータベース ソフトウェアでミラーリングがサポートされています。
  
- SQL Server Enterprise Edition と Standard Edition の両方の 2016

- SQL Server Enterprise Edition と Standard Edition の両方の 2014
    
- SQL Server 2012 の SP2 には、CU2、Enterprise Edition と Standard Edition の両方
    

> [!NOTE]
> SQL ミラーリング ビジネス サーバー 2015 の Skype で利用できるが、ビジネス サーバー 2019 の Skype でサポートされていません。 AlwaysOn 可用性グループ、AlwaysOn フェールオーバー クラスター インスタンス (FCI)、および SQL フェールオーバー クラスタ リング手法は、ビジネス サーバー 2019 の Skype で優先します。
    
非同期データベース ミラーリングは Skype のバック エンド サーバーの高可用性のビジネス サーバーです。 これ以降、特に指定がない限り、データベース ミラーリングは同期データベース ミラーリングを意味するものとします。 
  
フロント エンド プールのデータベース ミラーリング機能を配置する場合、プール内のビジネス サーバー データベースのすべての Skype は、ミラーリング、このプールと同様に、応答グループ アプリケーション データベースと、コール パーク内にある場合、中央管理ストアを含むアプリケーション ・ データベースでは、それらのアプリケーションは、プールで実行している場合。 
  
データベース ミラーリングでは、サーバーに対して共有ストレージを使用する必要はありません。各サーバーは、データベースのコピーをローカル ストレージに保持します。 
  
データベース ミラーリングの展開では、監視を使用することも使用しないこともできます。バックエンド サーバーのフェールオーバーが自動的になるので、監視を使用することをお勧めします。使用しない場合は、管理者が手動でフェールオーバーを実行する必要があります。監視を展開した場合でも、管理者は必要に応じてバックエンド サーバーのフェールオーバーを手動で開始できます。
  
監視を使用する場合は、バックエンド サーバーの複数のペアに対して 1 つの監視を使用できます。監視とバックエンド サーバーのペアを 1 対 1 で対応させる必要はありません。ただし、バックエンド サーバーの複数のペアに対して 1 つの監視を使用する展開は、ペアごとに異なる監視を使用するトポロジほど復元性が高くありません。 
  
### <a name="guidelines-for-planning-back-end-server-mirroring"></a>バックエンド サーバーのミラーリングのガイドライン

一般に、2 つのバックエンド サーバー間での SQL ミラーリングを設定するには、以下の要件を満たしている必要があります。
  
- SQL Server のプライマリ サーバーのバージョンでは、SQL のミラーリングをサポートする必要があります。
    
- プライマリ、ミラー、およびミラーリング監視 (展開されている場合) の各 SQL Server が同一バージョンである。 
    
- プライマリおよびミラーの各 SQL Server が同一エディションである (ミラーリング監視のエディションは異なっていても構いません)。
    
ミラーリング監視ロールのどのような SQL のバージョンはサポートされているという点で SQL のベスト プラクティスは、MSDN ライブラリの[「データベース ミラーリングの監視」](https://go.microsoft.com/fwlink/p/?LinkId=247345)を参照してください。
  
サーバー ミラーリングを構成する前に、まず SQL データベース アクセス許可を正しく設定する必要があります。 詳細については、 [「データベース ミラーリングまたは AlwaysOn 可用性グループ (SQL Server) のログイン アカウントの設定」](https://go.microsoft.com/fwlink/p/?LinkId=268454)を参照してください。
  
SQL ミラーリングでは、データベース復旧モードは常に [**完全**] に設定されます。これは、トランザクション ログ サイズを綿密に監視し、トランザクション ログを定期的にバックアップしてバックエンド サーバー上のディスク容量の不足を回避する必要があることを意味します。トランザクション ログのバックアップ頻度は、ログの増加率によって決まります。ログの増加率は、フロントエンド プールのユーザー アクティビティによるデータベース トランザクションによって決まります。Lync 展開ワークロードに対して予想されるトランザクション ログの増加を判断し、それに応じて計画することをお勧めします。次の記事では、SQL バックアップおよびログ管理に関する追加情報を提供しています。
  
> [!IMPORTANT]
> 設定し、SQL を削除するのにはトポロジ ビルダーまたはコマンドレットを使用してミラーリングがサポートされているプライマリ、ミラー、および (必要な場合)、ミラーリング監視サーバーが同じドメインに属している場合にのみです。 異なるドメインのサーバーに SQL ミラーリングを設定する場合は、SQL Server のドキュメントを参照してください。 

> [!NOTE]
> SQL ミラーリング ビジネス サーバー 2015 の Skype で利用できるが、ビジネス サーバー 2019 の Skype でサポートされていません。 AlwaysOn 可用性グループ、AlwaysOn フェールオーバー クラスター インスタンス (FCI)、および SQL フェールオーバー クラスタ リング手法は、ビジネス サーバー 2019 の Skype で優先します。
  
### <a name="recovery-time-for-automatic-back-end-server-failover-with-database-mirroring"></a>データベース ミラーリングを使用したバックエンド サーバーの自動フェールオーバーの復旧時間

データベース ミラーリングを使用した自動バックエンド フェールオーバーの場合、目標復旧時間 (RTO) のエンジニアリング目標は 5 分です。同期データベース ミラーリングなので、バックエンド サーバー障害の間にデータ損失が発生する可能性は、サーバー間のデータ移動中にフロント エンド サーバーとバックエンド サーバーの両方が同時にダウンするというまれな状況を除き、ありません。目標復旧ポイント (RPO) のエンジニアリング目標は 5 分です。
  
### <a name="user-experience-during-back-end-server-failure-with-database-mirroring"></a>データベース ミラーリングを使用したバックエンド サーバー障害の間のユーザー エクスペリエンス

障害の間のユーザー エクスペリエンスは、障害の性質とトポロジによって異なります。
  
監視を構成してあり、プリンシパルで障害が発生した場合は、データベース ミラーリングを使用したバックエンド サーバーのフェールオーバーは自動的かつ迅速に行われます。アクティブ ユーザーがセッションで大きな中断を感じることはありません。
  
補助の設定がない場合、管理者はフェイル オーバーを手動で起動に時間がかかります。 その間、アクティブなユーザーが影響を受ける可能性があります。 約 30 分間のセッションを通常どおり引き続き。 プライマリも復元されず、または、管理者、バックアップにフェールオーバーしない、し、ユーザーに切り替えられます復元モードでは、いるもの (取引先担当者を追加するには) などの Lync Server 上の永続的な変更を必要とするタスクを実行することを意味します。
  
プリンシパルとミラーの両方のバックエンド サーバーで障害が発生した場合、またはどちらかのサーバーと監視で障害が発生した場合は、(プリンシパルがまだ動作していても) バックエンド サーバーは使用できなくなります。この場合、アクティブ ユーザーはしばらくしてから復元モードに切り替えられます。
  
## <a name="alwayson-availability-groups-and-alwayson-failover-cluster-instances"></a>AlwaysOn 可用性グループと AlwaysOn フェールオーバー クラスター インスタンス

AlwaysOn 可用性グループおよび AlwaysOn フェールオーバー クラスター インスタンスは 2014 エンタープライズ エディションの SQL Server と SQL Server 2012 の Enterprise Edition でのみサポートされます。 ビジネス サーバーの Skype では、アクティブ/パッシブ、アクティブ/アクティブのないとしてのみ AlwaysOn 可用性グループをサポートしています。 
  
AlwaysOn 可用性グループまたは AlwaysOn フェールオーバー クラスター インスタンスを使用するには、最初に設定して高可用性ソリューションを構成する SQL Server を使用します。 フロント エンド プールに関連付けることをトポロジ ビルダーを使用できます。
  
> [!IMPORTANT]
> AlwaysOn 可用性グループの複数のインスタンスのインスタンス名は同じである必要があります。 
  
AlwaysOn 可用性グループを展開する手順を実行するには、 [Skype のビジネス サーバーのバック エンド サーバー上の AlwaysOn 可用性グループの配置](../../deploy/deploy-high-availability-and-disaster-recovery/alwayson-availability-group.md)を参照してください。
  
## <a name="sql-server-failover-clustering"></a>SQL Server フェールオーバー クラスタリング

Skype ビジネス サーバー用には、次のデータベース ソフトウェアをクラスター化 SQL Server のフェールオーバーがサポートされています。
  
- SQL Server Enterprise Edition と Standard Edition の両方の 2017

- SQL Server Enterprise Edition と Standard Edition の両方の 2016

- SQL Server Enterprise Edition と Standard Edition の両方の 2014
    
- SQL Server 2012 の SP2 には、CU2、Enterprise Edition と Standard Edition の両方

SQL のフェールオーバー クラスタ リングを使用するには、最初を設定し、フロント エンド プールを展開する前に SQL Server のクラスターを構成する必要があります。 ベスト ・ プラクティスは、SQL Server 2012 のフェールオーバー クラスタ リングのセットアップ手順を参照してください[https://technet.microsoft.com/en-us/library/hh231721.aspx](https://technet.microsoft.com/en-us/library/hh231721.aspx)。

> [!NOTE]
> 2017 の SQL Server と SQL Server の 2016 は、ビジネス サーバー 2019 の Skype によってサポートされている唯一のバージョンです。
    
SQL のフェールオーバー クラスタ リングを使用するには、最初を設定し、フロント エンド プールを展開する前に SQL Server のクラスターを構成する必要があります。 ベスト ・ プラクティスは、SQL Server 2014、2016 のフェールオーバー クラスタ リングのセットアップ手順を参照してください[https://technet.microsoft.com/en-us/library/hh231721.aspx](https://technet.microsoft.com/en-us/library/hh231721.aspx)。 SQL Server 2008 のクラスタ リング フェイル オーバーを参照してください[https://technet.microsoft.com/en-us/library/ms189134(v=sql.105).aspx](https://technet.microsoft.com/en-us/library/ms189134%28v=sql.105%29.aspx)。
  
SQL Server をインストールする際は、SQL Server Management Studio をインストールしてデータベースとログ ファイルの場所を管理する必要があります。SQL Server Management Studio は、SQL Server のインストール時にオプション コンポーネントとしてインストールされます。
  

