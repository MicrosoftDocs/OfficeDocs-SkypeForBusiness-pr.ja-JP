---
title: Skype for Business で正規化ルールを作成または変更する
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: quickstart
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection:
- IT_Skype16
- Strat_SB_Admin
ms.custom: ''
ms.assetid: e8547d7b-f74d-4a73-9a7d-df20d7a87fcd
description: '概要: Skype for Business Server で正規化ルールを定義、作成、および変更する方法について説明します。'
ms.openlocfilehash: 3550e27884d125f065c4688fec2ace797f9e8ce2
ms.sourcegitcommit: 01087be29daa3abce7d3b03a55ba5ef8db4ca161
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/23/2021
ms.locfileid: "51103393"
---
# <a name="create-or-modify-a-normalization-rule-in-skype-for-business"></a>Skype for Business で正規化ルールを作成または変更する

**概要:** Skype for Business Server で正規化ルールを定義、作成、および変更する方法について説明します。

Skype for Business Server で正規化ルールを定義、作成、および変更します。

### <a name="to-define-a-normalization-rule-by-using-build-a-normalization-rule"></a>正規化ルールの作成を使用して正規化ルールを定義するには

1. Skype for Business Server コントロール パネルを開く

2. (省略可能)「手順 11[で Skype for Business Server](dial-plans.md)でダイヤル プラン[](/previous-versions/office/lync-server-2013/lync-server-2013-modify-a-dial-plan)を作成または変更する」または「手順 10 でダイヤル プランを変更する」の手順に従います。

3. [**新しい正規化ルール**] または [正規化ルールの編集] で、正規化される番号パターンを表す名前を **Name** (5DigitExtension など) に入力します。 

4. (オプション) [**説明**] ボックスに、正規化ルールの説明を入力します (たとえば、"5 桁の内線番号を変換")。

5. [**正規化ルールの構築**] で、次のフィールドに値を入力します。

   - **開始桁** (省略可能) パターンに一致するダイヤル番号の先頭の数字を指定します。 たとえば、パターンが 425 で始まるダイヤル番号と一致する場合は、「425」と入力します。

   - **長さ** 一致するパターンの桁数を指定し、パターンをこの長さと正確に一致するか、少なくともこの長さのダイヤル番号と一致するか、任意の長さのダイヤル番号と一致するかどうかを選択します。

   - **削除する数字** (オプション) パターンを一致するダイヤル番号から削除する開始桁数を指定します。

   - **追加する数字** (オプション) パターンに一致するダイヤル番号に追加する数字を指定します。

     これらのフィールドに入力する値は、[**一致パターン**] および [**変換ルール**] に反映されます。 たとえば、開始桁を空のままにし、[長さ] フィールドに「7」と入力し、[正確] を選択し、[削除する桁数] に0 を指定すると、一致するパターンの結果の正規表現は次のようになります。  

     ^(\d{7})$

6. [**変換ルール**] で、変換される E.164 電話番号の形式のパターンを次のように指定します。

   - 一致パターンで指定した桁数を表す値。 たとえば、変換ルールの一致パターンが ^(\d )$ の場合、$1 は {7} 7 桁のダイヤル番号を表します。

   - (省略可能)[追加する **桁数]** フィールドに値を入力して、翻訳された番号の先頭に付加する数字を指定します (たとえば、+1425)。

     たとえば、一致するパターンにダイヤル番号のパターンとして^(\d )$ が含まれている場合、変換ルールには {7} E.164 電話番号のパターンとして +1425$1 が含まれている場合、ルールは 5550100 から +1425550100に正規化されます。

7. (オプション) 正規化ルールによって電話番号が組織の内線番号になる場合は、[**内線番号**] を選択します。

8. (オプション) 正規化ルールをテストする番号を入力し、[**次へ**] をクリックします。テスト結果は、[**テストする番号の入力**] の下に表示されます。

    > [!NOTE]
    > テストにまだ合格していない正規化ルールは、保存しておいて後で再構成できます。 詳細については、「[Test Voice Routing](/previous-versions/office/lync-server-2013/lync-server-2013-test-voice-routing)」を参照してください。

9. [**OK**] をクリックして正規化ルールを保存します。

10. [**OK**] をクリックしてダイヤル プランを保存します。

11. [**ダイヤル プラン**] ページで [**確定**] をクリックして、[**すべて確定**] をクリックします。

    > [!NOTE]
    > 正規化ルールを作成または変更するときにはいつでも、[**すべて確定**] コマンドを実行して構成の変更を公開する必要があります。 詳細については、「操作」の [ドキュメントの「Skype for Business](voice-route-config-changes.md) の音声ルーティング構成に保留中の変更を公開する」を参照してください。

### <a name="to-define-a-normalization-rule-manually"></a>正規化ルールを手動で定義するには

1. Skype for Business Server コントロール パネルを開く

2. (省略可能)「Skype for Business Server でダイヤル [プランを作成または変更する」の手順に従います](dial-plans.md)。

3. [**新しい正規化ルール**] または [正規化ルールの編集] で、正規化する番号パターンを示す名前を **[名前**] に入力します (たとえば、正規化ルール 5DigitExtension に名前を付けます)。 

4. (オプション) [**説明**] フィールドに、正規化ルールの説明を入力します (たとえば、"5 桁の内線番号を変換")。

5. [**正規化ルールの構築**] で [**編集**] をクリックします。

6. [**正規表現の入力**] で次のように入力します。

   - [**このパターンを照合**] で、ダイヤル電話番号を照合するために使用するパターンを指定します。

   - [**変換ルール**] で、変換される E.164 電話番号の形式のパターンを指定します。

     たとえば、[このパターンの一致] に ^(\d )$ と入力し、変換ルールに {7} +1425$1 を入力すると、ルールは 5550100 から +14255550100に正規化されます。

7. (オプション) 正規化ルールによって電話番号が組織の内線番号になる場合は、[**内線番号**] を選択します。

8. (オプション) 正規化ルールをテストする番号を入力し、[**次へ**] をクリックします。 テスト結果は、[**テストする番号の入力**] の下に表示されます。

9. [**OK**] をクリックして正規化ルールを保存します。

10. [**OK**] をクリックしてダイヤル プランを保存します。

11. [**ダイヤル プラン**] ページで [**確定**] をクリックして、[**すべて確定**] をクリックします。

    > [!NOTE]
    > 正規化ルールを作成または変更するときにはいつでも、[**すべて確定**] コマンドを実行して構成の変更を公開する必要があります。 詳細については、「操作」の [ドキュメントの「Skype for Business](voice-route-config-changes.md) の音声ルーティング構成に保留中の変更を公開する」を参照してください。