---
title: ビジネス サーバー 2015 のストレスおよびパフォーマンス ツールは、Skype を使用します。
ms.reviewer: ''
ms.author: heidip
author: microsoftheidi
ms.date: 2/13/2018
ms.audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: 93f42230-24a2-418d-9770-bf4670a9d78f
description: 実行するには、Skype のビジネス サーバー 2015 のストレスおよびパフォーマンス ツールが必要がありますに両方のユーザー、連絡先、およびユーザー プロファイルを管理できるようが実行しているツールを構成して出力またはツールによって生成される結果を確認し。
ms.openlocfilehash: 7ce25ec13af020734e0784392e457f96399a2398
ms.sourcegitcommit: da8c037bb30abf5d5cf3b60d4b71e3a10e553402
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/27/2019
ms.locfileid: "30884843"
---
# <a name="using-the-skype-for-business-server-2015-stress-and-performance-tool"></a>ビジネス サーバー 2015 のストレスおよびパフォーマンス ツールは、Skype を使用します。
 
実行するには、Skype のビジネス サーバー 2015 のストレスおよびパフォーマンス ツールが必要がありますに両方のユーザー、連絡先、およびユーザー プロファイルを管理できるようが実行しているツールを構成して出力またはツールによって生成される結果を確認し。
  
ビジネス サーバー 2015 のストレスおよびパフォーマンス ツール (実行可能ファイルは、LyncPerfTool.exe) は、Skype を実行するのには、4 つの領域があります。
  
- [ユーザーおよび連絡先を作成します。](using-the-tool.md#BKMK_CreateUsersAndContacts)
    
- [ユーザー プロファイルを構成します。](using-the-tool.md#BKMK_UserProfile)
    
- [LyncPerfTool を実行します。](using-the-tool.md#BKMK_RunTool)
    
- [結果の解釈](using-the-tool.md#BKMK_Interpret)
    
## <a name="create-users-and-contacts"></a>ユーザーおよび連絡先を作成します。
<a name="BKMK_CreateUsersAndContacts"> </a>

ビジネス サーバー 2015 (SB 2015) ユーザーのプロビジョニング ツール (UserProvisioningTool.exe) のユーザーおよび連絡先のストレスおよびパフォーマンスのテストを作成するのには、Skype を使用する必要があります。
  
これは、便利なトピックを読むと役に立つの用語の一覧です。
  
- **組織単位**の Active Directory ドメイン サービス (AD DS) 組織単位 (OU)。
    
- **連合し、プールの間**のユーザーは、他のインスタント メッセージング (IM) サービスからのユーザーと通信できます。
    
- **配布リスト**または Dl。 これらは、AD DS のユーザーの一覧が含まれている AD DS 内のオブジェクトです。 ユーザーのグループ間での通信を容易にするために使用されています。
    
- **場所情報サービス**のビジネス サーバー 2015 可能にするサービス、それが有効にされ、電話番号ごとに構成すると強化された 911 (E911) のサービスの物理的な場所を取得するために、Skype。
    
- **米国の電話番号**- 電話番号の着信および発信通話のルーティングを逆番号検索 (RNL) のために使用される SIP URI の他のユーザーに割り当てられています。
    
### <a name="create-users-and-contacts-by-using-userprovisioningtoolexe"></a>UserProvisioningTool.exe を使用してユーザーおよび連絡先を作成します。

> [!NOTE]
> 開始する前にも、このツールを実行するのには、Domain Admins セキュリティ グループのメンバーとしてログオンしていることを確認します。 Active Directory ユーザーを作成しようとしているため、これを行う必要があります。 
  
ユーザーおよび連絡先の負荷のシミュレーションを作成する、Skype のビジネス サーバー ユーザーのプロビジョニング ツールを使用する必要があります。
  
**ビジネス サーバー ユーザーのプロビジョニング ツールの Skype**は、 **Skype**をビジネス ・ サーバの負荷とパフォーマンス ツールのパッケージと共にインストールされます。 フロント エンド サーバーまたは Standard Edition サーバーをテストするパッケージ インストーラー (CapacityPlanningTool.msi) が実行されていることを確認します。
  
フロント エンド サーバーまたは Standard Edition サーバー上で、(InstalledDirectory%LyncStressAndPerfTool\LyncStress である) UserProvisioningTool.exe ファイルを実行してビジネス サーバー ユーザーのプロビジョニング ツールを Skype を起動できます。
  
> [!IMPORTANT]
> 多数のユーザー (たとえば、10,000 以上) を作成するとき、UserProvisioningTool.exe を実行します。 ツールが作成され、*新しい*AD のユーザーを構成するためにこれを実行する必要があります。
  
ユーザーのプロビジョニング ツールを開くと、[構成] をクリックし、負荷の構成を選択します。 
  
ユーザーおよび連絡先を構成するには、"SampleData.xml"と呼ばれる、パッケージに含まれる既定のファイルをロードします。 展開に関連する変更する必要がありますサンプル データを持つフィールドが事前に設定されます。
  
カスタマイズした設定が既に含まれている構成済みの XML ファイルがあれば、代わりにそのファイルを読み込むことができます。 以下のセクションで説明したように、ユーザーのプロビジョニング ツールでは、フィールドを入力します。
  
### <a name="to-configure-server-options"></a>サーバー オプションを構成するには。

1. **フロント エンド プールの FQDN** ] フィールドには、Standard Edition サーバー、またはユーザーをホストするフロント エンド プールの完全修飾ドメイン名 (FQDN) を入力します。
    
2. **ユーザー名のプレフィックス**] フィールドに、ままの状態 ("TestUser") などの目的をテストするためのユーザー名に使用するプレフィックスを入力します。
    
3. [**パスワード**] フィールドで、すべてのテスト ユーザー アカウントで使用されるパスワードを入力します。
    
4. [**アカウントのドメイン**] フィールドで、現在の AD ドメインのドメイン名を入力します (テスト ユーザーを作成する 1 つ)。
    
5. [**組織単位**] フィールドで、名前を入力、AD ドメインを作成するは、これらのテスト ユーザーです。 (OU が存在しない場合は、それが作成)。
    
6. [**市外局番**] フィールドで、すべてのテスト ユーザー アカウントで使用するのには 3 桁の市外局番を入力します。 特定する他のユーザーの市外局番と市外局番] を選択したが競合しない AD。
    
7. エンタープライズ VoIP のテスト ユーザーを有効にする場合は、**音声を有効に**する] チェック ボックスをオンにします。
    
8. **ユーザー数**] フィールドに、テスト ユーザーを作成する場合の合計数を提供します。
    
9. **インデックスの開始**] フィールドに、ユーザー名のプレフィックス、サフィックスとして使用することを開始番号を与える (などのプレフィックスは"TestUser"、最初の名前は次の例では「0」で終了)
    
     ![[User Creation] タブを表示している User Provisioning Tool](../../media/591d8280-8979-4a8c-83bc-af126e87bf29.png)
  
#### <a name="create-users-button"></a>ユーザー ボタンを作成します。

**ユーザーの作成**] ボタンをクリックすると、入力されている入力パラメーターが検証されます。 検証エラーがある場合は、それらを修正するように求めします。 または、ユーザーが表示される起動のすべての値が正しい場合は、(指定した OU がどの) で AD にします。 実行時にツールの下部にある進行状況バーが表示されます。 進行状況バーがアクティブなときに、アプリケーションを終了しません。
  
ユーザーの作成に時間がかかり、のでそれに応じて計画をしてください。 このプロセス時間かかることが任意の場所の少数のユーザーでは、数分から、いくつかユーザーの数が多いのです。
  
テスト環境内の AD ドメイン コント ローラーにアクセスする必要はありません、いずれかの範囲を作成するように指定したユーザーのユーザーとしてログインすることによりユーザーの作成を検証もできます。 、プレフィックスと、ユーザー名と @sipDomain のほかに、サフィックスを使用することを忘れないでください。 例を次のとおりです: <em>TestUser20@contoso.net</em> 。
  
> [!NOTE]
> ユーザーが既に存在する場合、ユーザーの作成] ボタンをクリックするとに更新されます構成変更によって。 
  
#### <a name="delete-users-button"></a>ユーザー ボタンを削除します。

**ユーザーの削除**] ボタンをクリックするとタブの入力パラメーターが検証されます。 検証エラーがある場合がするが表示されたら、それらを修正して、入力値が正しい場合は、指定したテスト用ユーザー無効になっているし、する Active Directory から削除します。 もう一度、進行状況バーは、このタブの下部に表示され、進行状況バーがアクティブなときにアプリケーションを閉じる必要はありません。
  
> [!NOTE]
> 米国形式の電話番号だけがサポートされます。 電話番号は常に、ユーザーに割り当てられているし、UserProvisioningTool.exe によって作成されたすべてのユーザーは既定でエンタープライズ VoIP を有効にします。 会議自動応答または UC PSTN の呼び出しなどの電話番号を使用するすべてのシナリオでは、呼び出しを正しくルーティングするのにはこの電話番号を使用します。 このため、*すべてのユーザー*に*一意の電話番号*が必要があります。
  
> [!NOTE]
> **ユーザーを 2 回作成する必要があるが、別の市外局番を使用する場合を除き、または無効にする CsUser コマンドレットを使用して、以前のユーザーを無効になっている場合、コマンドが失敗します。**
  
> [!IMPORTANT]
> 連絡先を作成する前に (これは、[ユーザー] タブから) ユーザーの複製を完了する必要があります。 
  
> [!IMPORTANT]
> ユーザーを作成した場合は、Skype ビジネス サーバーのレプリケーションが完了し、データベース内のユーザー アカウントを作成するまで待機する必要があります。 **ユーザーの複製が終了していない、エラーが表示されます。** ユーザーは、Skype のビジネス サーバー 2015 のフロント エンド サービスが開始されている場合の複製したら、または指定した合計の番号の最後のユーザーを正常に取得 CsUser コマンドレットを実行してがわかります。
  
#### <a name="contacts-creation-tab"></a>連絡先の作成] タブ

このタブでは、テストのユーザーの連絡先の詳細情報を提供することができます。
  
![[Contents Creation] タブを表示している User Provisioning Tool](../../media/dfb7fdf1-fb97-4e8e-8608-c4995f95dd5b.png)
  
### <a name="to-configure-users-contacts-do-the-following"></a>ユーザーの連絡先を構成するには、次の操作を行います。

1. **ユーザー 1 人あたりの平均連絡先**フィールドに、各ユーザーの連絡先リストに表示する連絡先の数の平均値を入力します。
    
2. 数が等しいすべてのユーザーの連絡先を作成する場合は、[**固定**] チェック ボックスを選択します。 ユーザー用に作成された連絡先の数を変更する場合は、チェック ボックスをオフにします。
    
3. **ユーザーごとの平均の連絡先グループ**] フィールドに、ユーザーごとの連絡先グループの数を入力します。 この番号は、**ユーザーごとの連絡先の平均**よりも小さくする必要があります。
    
4. **連合/間のプール連絡先の割合**] フィールドに、0 から 100 までの数字を提供します。 フェデレーション ユーザーとの取引先担当者は、この割合が作成されます。
    
5. **連合/クロス プール ユーザー プレフィックス**] フィールドに、ローカル ユーザーの連絡先リストに追加されるフェデレーション ユーザーのユーザー名を提供します。
    
6. **連合/プール ユーザーの SIP ドメインを越える**フィールドに、フェデレーション ユーザーの SIP ドメイン名を提供します。
    
7. **ユーザーの作成**] タブで、情報が正しいことを確認してください。 連絡先は、ユーザーの作成] タブ上の値から作成されます。
    
8. 連絡先の作成を開始するのには**連絡先の作成**] をクリックします。 このプロセスには数分かかることができます。 それが完了した後、メッセージがダイアログ ボックスが表示されます「操作が完了正常にします。」 ユーザーの作成] タブから作成されたユーザーとしてログオンし、作成された連絡先を検証することができます。
    
> [!NOTE]
> 連絡先が作成されると、このツールは、ターゲット ・ プールのすべてのフロント エンド サーバーを再起動します。 によって顧客の数は、この操作によって作成された長い時間 (最大 2 時間) を開始するには、フロント エンド サーバーをかかることがあります。 
  
#### <a name="distribution-list"></a>配布リスト

ビジネス サーバー 2015 のストレスおよびパフォーマンス ツールの Skype では、ビジネス 2015年クライアントの Skype での配布リスト (DL) の拡張機能をシミュレートできます。 ユーザー プロビジョニング ツールで、配布リストの展開を有効にしない場合は、この手順を省略できます。
  
![[Distribution List Creation] タブを表示している User Provisioning Tool](../../media/4b689306-70c4-4569-9842-15c73f038eb6.png)
  
配布リスト] タブを使用すると、配布リストの展開機能のストレスおよびパフォーマンス ツールを使用する配布リストを作成できます。 配布リストを作成する前にビジネス サーバー 2015 の Skype が必要となる、ForestPrep を実行することを含みます。 、実行されていない場合、配布リストの属性は存在しません、AD スキーマのツールは、配布リストを作成するのにはできませんので。
  
### <a name="to-configure-distribution-lists"></a>配布リストを構成するには。

1. **配布リスト数**] フィールドに、作成する配布リストの合計数を指定します (ここでお勧めするユーザー数の 2 倍の値で開始すること。)。
    
2. **配布リストのプレフィックス**] フィールドに、作成するすべての配布リストがある、プレフィックス、 *testDL*などを入力します。 100 の Dl で、つまり、配布リスト名のようになります: testDL0、testDL1、testDL99 まで。
    
3. **版リストの最小のメンバー** ] フィールドに、各配布リストにユーザーの最小数を入力します。
    
4. **版リストの最大のメンバー** ] フィールドに、各配布リストに追加するユーザーの最大数を入力します。
    
#### <a name="create-distribution-lists-button"></a>配布リスト] ボタンを作成します。

配布リストの作成] ボタンをクリックするとツールは、配布リストをプリフィックスと番号が既に存在と一致するかどうかを確認するのには Active Directory を照会します。 ツールは、既に存在しないこれらの Dl を作成します。 メンバーを追加する配布リストを新しく作成された、ときに、ユーザーの作成] タブで指定された範囲からユーザーを選択にします。
  
#### <a name="location-info-service-config-tab"></a>場所情報サービスの構成] タブ

ビジネス サーバー 2015 のストレスおよびパフォーマンス ツールの Skype では、場所情報サービスのダミーの構成ファイルを生成することも。 場所情報サービス通常はパフォーマンスに大きな影響であるサーバーに注意してください。 
  
![[Location Info Service Config] タブを表示している User Provisioning Tool](../../media/227662a2-e0c3-4e34-ab54-5f1459344f30.png)
  
この機能をテストする場合は、フォーム内の値を入力し、LIS 構成ファイルの生成] ボタンをクリックを作成します。CSV ファイルと呼ばれます。
  
- LIS_Subnet.csv
    
- LIS_Switches.csv
    
- LIS_Ports.csv
    
- LIS_WAP.csv
    
インポートするのには、LIS データベースにこれらのファイルは、次の PowerShell コマンドレットを使用します。
  
- セット CsLisSubnet
    
- セット CsLisSwitch
    
- セット CsLisPort
    
- セット CsWirelessAccessPoint
    
## <a name="configure-user-profile"></a>ユーザー プロファイルを構成します。
<a name="BKMK_UserProfile"> </a>

(ユーザー作成ツール) を使用して、ユーザーが作成された後は、ビジネス サーバー 2015 負荷構成ツール (UserProfileGenerator.exe) の Skype でユーザー プロファイルを構成できます。
  
### <a name="running-the-skype-for-business-server-2015-load-configuration-tool"></a>ビジネス サーバー 2015 の読み込みの構成ツールの Skype を実行しています。

負荷の構成ツール (UserProfileGenerator.exe) を起動し、タブを入力します。 このツールは、シミュレーションを実行する必要があるコンピューター、クライアントごとにディレクトリを作成します。 各クライアントのディレクトリには、ビジネス サーバー 2015 のストレスおよびパフォーマンス ツール (LyncPerfTool.exe) は、Skype を起動するためのスクリプトが付属しています。 以下のセクションでは、ビジネス サーバー 2015 の読み込みの構成ツールの Skype の各タブのフィールドに入力する方法の例を提供します。
  
> [!IMPORTANT]
> 負荷の構成ツール (UserProfileGenerator.exe) で使用されるユーザー固有の値は、プールのビジネス サーバー 2015 ユーザー作成ツール (UserProvisioningTool.exe) は、Skype で指定した値に一致しなければなりません。 
  
#### <a name="common-configuration-tab"></a>共通の構成] タブ

負荷の構成ツールの**一般的な設定**] タブを次に示します。 次の手順で説明したように、共通の設定] タブのフィールドを入力します。
  
![[Common Configuration] タブを表示している [User Provisioning] タブ](../../media/c25df343-3550-47fb-88e0-29194338fee2.png)
  
1. **使用可能なマシンの数**」フィールドには、ストレスおよびパフォーマンス ツール (LyncPerfTool.exe) の実行に使用するコンピューターの数を入力します。 シミュレートすることがあります、4500 のユーザーごとに 1 台のコンピューターがあるが、負荷のレベルを削減またはツールの使用可能な機能が (一般的なシナリオ] タブで設定されている負荷レベル) のサブセットのみを使用する場合、その番号は異なる場合がありますをお勧めします。
    
2. **ユーザー名のプレフィックス**] フィールドに、すべてのユーザーのユーザー名フィールドのプレフィックスを入力します。 統一リソース識別子 (URI) をログに記録されます: *UserPrefix [ユーザーの開始インデックス。(ユーザー 1 の数)]@User ドメイン*は、myUser009@Contoso.com です。
    
3. **すべてのユーザーのパスワード**フィールドに、ユーザーの作成時に使用するパスワードを入力します。 このフィールドを空のままにする場合は、パスワードとユーザー名が設定されます。
    
4. **ユーザー開始インデックス**フィールドで構成する最初のユーザーのインデックスを入力します。 さまざまな種類のレベルの負荷を複数の範囲を構成することができますが、範囲ごとに構成すると、読み込む構成ツール (UserProfileGenerator.exe) を実行する必要があります。
    
5. [**ユーザー数**] フィールドで構成しようとしているユーザーの合計数を入力します。
    
6. **ユーザー ドメイン**フィールドに、SIP URI に使用するドメインを入力します。 これは、ビジネス 2015 フロント エンド サーバーまたは Standard Edition サーバーでは、Skype にログオンする各ユーザーの SIP URI を構築するために使用し、アカウントのドメインと異なる場合があります。
    
7. [**アカウントのドメイン**] フィールドで、AD DS ドメインへのログオンを入力します。
    
8. **MPOP 割合**(複数のプレゼンス ポイントの割合)] フィールドに、複数のコンピューターまたはデバイス、たとえば 10% からログオンしているユーザーの割合の値を提供します。
    
9. **あたり 2 つ目 (インスタンス) ごとに署名**フィールドに、同時実行のエンドポイントの最大数を入力します。 これは、最大数は、ユーザーのログインし、1 秒あたり 2 と同じまたはそれより小さい数をお勧め (_lt _ = 2)。
    
10. [**アクセス プロキシまたはプールの FQDN** ] フィールドでは、クライアントに接続するサーバーの完全修飾ドメイン名 (FQDN) を入力します。 ユーザーがログオンに外部から、アクセス プロキシを入力する必要があります。 ユーザーが内部の場合は、エンタープライズ プールまたは Standard Edition サーバーの FQDN を提供します。
    
11. **[ポート**] フィールドで、ユーザーの SIP を使用するポートを入力します (ここでの既定は 5061 です)。
    
12. **外部のネットワーク サーバーの設定**のフィールドには、アクセス プロキシまたはプールの FQDN と、もう一度、**ポート**を提供します。 これらの設定は、外部エンドポイントの負荷のシミュレーションにのみ使用されます。
    
#### <a name="general-scenarios-tab"></a>シナリオの [全般] タブ

![[General Scenarios] タブを表示している Load Configuration Tool](../../media/45792e57-4322-4c20-956f-fe480b0de1a7.png)
  
実行するか、無効のままにする対象を決定することにより提供される一般的なシナリオのそれぞれについて、負荷のレベルとパラメーターを設定できます。 全般的なオプションを以下に示します。
  
> [!NOTE]
> 負荷が、すべてのフィールド、ローカルのインフォメーション サービスのレベルの値は、**無効になっている**、**低**、**中**、**高**、または**カスタム**です。 無効になっているのですが、任意の設定を選択する場合は、構成をクライアントごとに生成されます。 サーバーでサポートされている最大の負荷の高い結果[中] は、60% の負荷が高いです。30% は低いのです。 
  
- **インスタント メッセージングでは、** ピア ツー ピアおよび会議。負荷のレベルの適切な値を選択します。
    
- **オーディオ会議-** オーディオ会議*のみ*の負荷レベルを選択します。 ピア ツー ピアの呼び出しは、**音声のシナリオ**に記載後、もう少し対処が。 マルチビューを有効にするのには [**詳細設定**] タブを開きます。
    
- **アプリケーションの共有-** アプリケーションを共有するための負荷レベルを選択します。
    
- **データの共同作業-** データ会議に含まれるデータの共同作業の負荷レベルを選択します。
    
- **配布リストの展開-****[詳細**] ボタンをクリックし、ユーザー作成ツール (UserProvisioningTool.exe) の [配布リスト] タブで構成されている同じ値を持つフィールドに入力します。 負荷のレベルを選択します。
    
- **アドレス帳 Web クエリ**これは、アドレス帳ファイルのダウンロードではなく、アドレス帳の検索サービスです。 場合は、[**詳細設定**] ボタンをクリックしてアドレス帳ファイルのダウンロードを有効にして、 **EnableABSDownload**を True に設定します。 負荷レベルの値を提供します。
    
- **応答グループ サービス-****[詳細**] ボタンをクリックし、応答グループ サービスのエージェントを提供した場合を既に作成した応答グループの Uri を指定します。 少なくとも 1 つの応答グループを選択する必要があります。 使用するには複数の応答グループ セミコロンで区切ります。 **RGSUriSuffixStartIndex**と**RGSUriSuffixEndIndex**を実際の値に更新します。 負荷のレベルを選択します。
    
- **場所情報サービス-** 有効または無効のいずれかの負荷レベルを選択します。
    
> [!NOTE]
> シナリオのそれぞれには、[詳細設定]、および一連の既定の設定のバリエーションを可能にする] チェック ボックスの横にあります。 
  
- *メッセージング システム*を選択すると、1 時間全体にわたって作成される会議のシミュレーションを生成するツールを使用できます。
    
- 選択する*大規模な Conf*では、大規模な会議のシナリオをシミュレートすることを意味します。
    
-  外部のユーザーをシミュレートするツールを*外部*に通知します。
    
これらのボタンとチェック ボックスは、各シナリオに固有の追加の値はストレスおよびパフォーマンス ツールの動作を変更し、カスタマイズを可能にします。
  
(位置情報サービス) を除く、一般的なシナリオ] タブで各シナリオでは、負荷のレベルの値が**カスタム**の場合、会話率を計算する、[詳細設定] ダイアログ ボックス内の対応するフィールドを使用します。 状況によって、フィールド名が異なる場合がありますが、状態は、フィールドの説明:*メモこの番号は、ドロップ ダウン メニューからカスタムを選択した場合のみ使用されます*。
  
会話の単価は、すべてのシナリオのバランスをユーザー モデルには、モーダルかどうかは、**高****中****低**値が変更されます。 予想される使用率の違いのモダリティごとの負荷レベルを変更する必要がある場合は、カスタム テーマのレートを使用します。
  
#### <a name="voice-scenarios-tab"></a>音声シナリオ] タブ

これは、すべてのボイスに関連するシナリオの構成のタブです。
  
![Load Configuration Tool の [Voice Scenarios] タブ](../../media/042e406f-5156-4095-a4eb-6298f24bb51f.png)
  
オプションは次のとおりです。
  
- **VoIP-****[詳細**] ボタンをクリックし、PhoneAreaCode と LocationProfile (ダイヤル プラン) フィールドの値を追加します。 負荷のレベルにも値を提供します。 統合コミュニケーション (UC) に VoIP または UC または PSTN ゲートウェイを有効にし、公衆交換電話網 (PSTN) の負荷レベルを選択する場合は、外部の呼び出しをシミュレートするために構成ファイルが生成されます。
    
- **UC または PSTN ゲートウェイ-** 負荷レベルの値を選択する必要があり、無効になっている以外の何かを選択するともあれば、[**詳細設定**] ボタンをクリックすると、PSTN の市外局番の値を指定します。 仲介サーバーと PSTN の下の [**追加**] をクリックします。 市外局番で構成されているルートがあることを確認します。
    
    > [!TIP]
    > ボイス ルートの構成を確認するのには、ビジネス コントロール パネルまたはビジネス管理シェルの Skype のいずれかの Skype を使用できます。 
  
- **会議アテンダント-** 負荷レベルの値を指定します。 無効以外の値には、**電話番号**フィールドが有効になります。 使用する自動応答の電話番号を入力します。 [**詳細設定**] をクリックし、 **LocationProfile**フィールドの値を提供します。
    
- **駐車サービス-** ここでは、負荷のレベルを指定します。
    
- **仲介サーバーおよび PSTN**各仲介サーバーを使用するには、独自の PSTN のシミュレータが必要があります。 クライアント シミュレータを使用することを決定した後構成をルーティングするように仲介サーバーを呼び出すそのコンピューターに PSTN シミュレータでするように構成します。 仲介サーバーの値を構成するのには [**追加**] ボタンをクリックします。
    
    > [!NOTE]
    > 各シナリオでは、その横にある高度なボタンがあります。 [詳細設定] ダイアログ ボックスには、ストレスおよびパフォーマンス ツールの動作を変更し、カスタマイズを有効にする各シナリオに固有設定が含まれています。 _gt ボイス シナリオ] タブで、負荷のレベルの値が**カスタム**の場合は、会話の速度の場合に、各シナリオについては、[詳細設定] ダイアログ ボックスで、対応するフィールドを使用して計算されます。 状況によって、フィールド名が異なる場合がありますが、状態は、フィールドの説明:*メモこの番号は、ドロップ ダウン メニューからカスタムを選択した場合のみ使用されます*。
  
#### <a name="web-app-tab"></a>Web アプリケーション] タブ

![Load Configuration Tool の [Web app] タブ](../../media/505b54ef-8140-4dec-a43e-08091f592b34.png)
  
Web アプリケーションは、サーバーをフロント エンド サーバーにインストールされているユニファイド コミュニケーション Web API (UCWA) サーバーから会議のシナリオをサポートします。 Web アプリケーション] タブを使用すると、すべての web アプリケーションに関連するシナリオを構成できます。 オプションは次のとおりです。
  
- **一般的な Web アプリケーションの設定-****その他の設定**] をクリックし、VIP のフロント エンド プールのプールのディレクトリ仮想 IP (VIP) に**ReachTargetServerUrl**を設定します。
    
- **アプリケーションの共有-** 負荷レベルの値を選択します。
    
- **データの共同作業-** 負荷レベルの値を選択します。
    
- **インスタント メッセージングでは、** 負荷レベルの値を選択します。
    
- **音声会議-** 負荷レベルの値を選択します。
    
> [!NOTE]
> 各シナリオには、**詳細設定**] ボタンの横にあります。 オプションのダイアログ ボックスには、ストレスおよびパフォーマンス ツールの動作を変更し、負荷レベルが**ユーザー設定**を次に、**で指定された値である場合に、Web アプリケーションのシナリオのそれぞれの customization.> を有効にする各シナリオに固有値が含まれています。ConversationsPerHour**フィールドは、既定値の代わりに使用します。
  
#### <a name="mobility-tab"></a>モビリティ] タブ

すべてのモビリティに関連するシナリオを構成するのにには、このタブを使用します。
  
![Load Configuration Tool の [Mobility] タブ](../../media/30af39c2-50ea-476a-8a56-ce2ddf08517e.png)
  
オプションをここでは次のとおりです。
  
- **一般的なモビリティ設定-**[**追加設定**] をクリックし、ディレクター プール仮想 IP (VIP)、またはフロント エンド プールの VIP への UcwaTargetServerUrl フィールドを設定します。
    
- **プレゼンスと P2P インスタント メッセージング/オーディオ-** 移動のシミュレーションを有効にするのには負荷のレベルの値を選択します。
    
> [!NOTE]
> 各シナリオには、**詳細設定**] ボタンの横にあります。 オプションのダイアログ ボックスには、ストレスおよびパフォーマンス ツールの動作を変更し、負荷レベルが**ユーザー設定**を次に、**で指定された値である場合に、移動のシナリオのそれぞれの customization.> を有効にする各シナリオに固有値が含まれています。ConversationsPerHour**フィールドは、既定値の代わりに使用します。
  
#### <a name="summary-tab"></a>[概要] タブ

[概要] タブでは、各シナリオで使用するユーザーを示します。
  
![Load Configuration Tool の [Summary] タブ](../../media/436fb3f2-d73e-402d-bc6e-e8a6740819d2.png)
  
[概要] タブでは、各シナリオで使用するユーザーを示します。 
  
**カスタム ユーザー範囲生成を有効にする**] チェック ボックスを選択し、シナリオをカスタマイズするユーザーの範囲を持つテーブルをダブルクリックしてユーザーの数値の範囲を手動で構成することができます。
  
サインインの速度に対応して生成されたバッチ ファイルでの遅延を含めるために **(RunClient.bat) 追加記号で遅延起動時の設定**を確認してください。 多数のユーザーに署名するときは、サーバーの過負荷を防ぐために便利です。
  
**ファイルの生成**] をクリックし、構成を生成するフォルダーを選択します。 ファイルが正常に作成されたときにダイアログ ボックスが表示されます。
  
!["Load configuration files generated successfully" というメッセージ ボックス。 そのまま [OK] をクリックします。](../../media/c3c1d4a0-cb44-4837-8124-03354f5d9d8c.png)
  
## <a name="run-lyncperftool"></a>LyncPerfTool を実行します。
<a name="BKMK_RunTool"> </a>

ビジネス サーバー 2015 のストレスおよびパフォーマンス ツール (LyncPerfTool.exe) は、Skype を実行する前にユーザー、連絡先、およびシナリオを作成する必要があります。 これらのアクションを実行するツールの使用の詳細についてを参照してください[ユーザーの作成および取引先担当者](using-the-tool.md#BKMK_CreateUsersAndContacts)および[ユーザー プロファイルを構成する](using-the-tool.md#BKMK_UserProfile)以前この資料にします。 これらのツールを実行すると、含まれている必要なパラメーターを使用してストレスおよびパフォーマンス ツールを使用してバッチ ファイルの一部として実行するファイルも生成されます。
  
### <a name="running-the-skype-for-business-server-2015-stress-and-performance-tool"></a>ビジネス サーバー 2015 のストレスおよびパフォーマンス ツールの Skype を実行しています。

負荷の構成ツール (UserProfileGenerator.exe) は、ストレスおよびパフォーマンス ツール (LyncPerfTool.exe) を実行するには、パフォーマンス カウンターを登録して、XML 構成ファイルをロードすることを可能にするバッチ ファイルを作成します。 バッチ ファイルは、構成ファイルごとの LyncPerfTool.exe の 1 つのインスタンスを実行します。 バッチ ファイルを実行には、これらの手順に従います。
  
### <a name="run-the-stress-and-performance-test"></a>ストレスおよびパフォーマンスのテストを実行します。

1. 構成フォルダー内のファイルとフォルダーを各クライアント コンピューターで LyncPerfTool.exe のあるディレクトリにコピーします。 (などの 1.28_13.16.16 をという名前のフォルダー内の構成ファイルを生成する場合そのフォルダー フォルダーにコピー LyncPerfTool.exe とにします。 これは各クライアントにします。)
    
2. クライアントのフォルダーに移動し、 **RunClient**のバッチ スクリプトを実行します。 Windows エクスプ ローラーでバッチ ファイルをダブルクリックすることができ、すべての構成ファイルにクライアントに対して実行されます。 次の構文を使用してクライアントのフォルダーからスクリプトを実行することもできます。
    
   ```
   RunClient0.bat "C:\Program Files\Skype for Business Server 2015\LyncStressAndPerfTool\LyncStress" 
   ```

ストレスおよびパフォーマンス ツールを直接実行、コマンド プロンプトを開き、コマンドラインで次のコマンドを入力する (最初にこれを行うときは、パフォーマンス カウンターを登録することを確認して`regsvr32 /i /n /s LyncPerfToolPerf.dll`、このトピックの後半で示すように、)。
  
```
LyncPerfTool.exe /file:IM_client0.xml
```

構成ファイルの値を表示するツールを表示するには、`/displayfile`を次のようなので、上記のコマンドのパラメーター。
  
```
LyncPerfTool.exe /file:IM_client0.xml /displayfile
```

*終了*処理をするには、Ctrl キーを押しながら C キーを押します。
  
> [!NOTE]
> ストレスおよびパフォーマンス ツールを直接実行する前に、次のコマンドを使用してパフォーマンス カウンターを登録する必要があります。`regsvr32 /i /n /s LyncPerfToolPerf.dll`
  
> [!NOTE]
> ストレスおよびパフォーマンス ツールを起動するすべてのインスタンスはすぐに 1 人のユーザーが 1 秒あたりの速度で通常のユーザーに署名します。 
  
レート プールのサインイン用ユーザーのピーク時は、1 秒あたり 12 についてです。 これは、必要はありませんを起動する 12 の複数の LyncPerfTool.exe インスタンスを同時にユーザーがサインインしても、ことを意味します。 1000 人のユーザーは完全に 1 秒ごとに 1 つのサインインに約 20 分かかります。
  
## <a name="interpreting-the-results"></a>結果の解釈
<a name="BKMK_Interpret"> </a>

ビジネス サーバー 2015 のストレスおよびパフォーマンス ツールの Skype では、クライアントが何をして、には問題が発生したかどうかを理解するのに役立つ多数のカウンターがあります。
  
### <a name="client-counters"></a>クライアント カウンター

実行している LyncPerfTool.exe の各インスタンスには、別のカウンターのインスタンスがあります。 各インスタンスは、プロセス ID によってという名前 クライアントがオーバー ロードされた場合その他の問題が発生することができます。 これらの問題を防ぐ。
  
- クライアント コンピューター上の CPU とメモリの使用率を監視します。 CPU が継続的に、90% を超える場合は、ユーザーの数を減らします。
    
- メモリ使用量が高いときは、ページ ・ ファイル領域が不足する場合の問題に実行できます。 コミット チャージがコンピューター上の制限をヒットしないことを確認します。 メモリの制限に実行している場合は、ページ ファイル サイズを増やすか、ユーザーの数を減らすことを検討してください。
    
主要なパフォーマンス カウンターの一覧を以下に示します。
  
**一般的な情報**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|時間を分単位で  <br/> |プロセスが開始されたために費やされた時間。  <br/> |
|アクティブなエンドポイント  <br/> |サーバーに現在接続されているエンドポイントの数です。  <br/> |
|失敗したログオン  <br/> |サインインに失敗したエンドポイントの合計数です。  <br/> |
|ログオンの試行  <br/> |エンドポイント サインイン試行の合計数です。  <br/> |
|エンドポイントが切断されています。  <br/> |接続が切れたエンドポイントの合計数です。  <br/> |
   
**プレゼンス情報**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|SetPresence の呼び出し  <br/> |プレゼンスの合計数は、試行回数を変更します。 プレゼンス変更の種類は、SetPresence (プレゼンス型) の呼び出しのパフォーマンス カウンターを参照してください。  <br/> |
|SetPresence の NNN の応答  <br/> |Nnn 応答コードがサーバーからの受信の合計数です。  <br/> |
|GetPresence の呼び出し  <br/> |数の合計は、プレゼンス要求の回数を取得します。  <br/> |
|GetPresence の NNN の応答  <br/> |Nnn 応答コードがサーバーからの受信の合計数です。  <br/> |
   
**アドレス帳サービスの情報**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|ABS フル/差分ファイルをダウンロードしようとしました  <br/> |フルまたは差分ファイルのダウンロード要求が試行の合計数です。  <br/> |
|ABS フル/差分ファイルのダウンロードに成功しました  <br/> |フルまたは差分ファイルのダウンロード要求が試行の合計数です。  <br/> |
|アドレス帳 Web クエリ サービスに関連するカウンター  <br/> |アドレス帳ファイルは、関連するカウンターをダウンロードします。  <br/> |
|ABS WS 呼び出しを実行しようと  <br/> |実行しようとアドレス帳 Web クエリ サービスの要求の合計数です。  <br/> |
|ABS WS の呼び出しに成功しました  <br/> |正常な応答コードが返されるアドレス帳 Web クエリ サービスの要求の合計数です。  <br/> |
|ABS WS の呼び出しに失敗しました。  <br/> |エラー応答コードが返されるアドレス帳 Web クエリ サービスの要求の合計数です。  <br/> |
   
> [!NOTE]
> このカテゴリには、アドレス帳サービス (ABS) ファイルをダウンロードし、アドレス帳 Web クエリ サービス要求を監視するために使用するカウンターが含まれています。 
  
**配布リスト (DL) の情報**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|呼び出しを実行しようと  <br/> |配布リストの拡張されて web サービス要求が試行の合計数です。  <br/> |
|呼び出しに成功しました  <br/> |正常な応答コードが返されましたが、DLX の web サービス要求の合計数です。  <br/> |
|呼び出しが失敗しました。  <br/> |エラー応答コードが返された DLX の web サービス要求の合計数です。  <br/> |
   

  
> [!NOTE]
> パフォーマンス カウンターを以下に示しますレポート番号のボイスはすべての IP (VoIP) 呼び出しは、仲介サーバー、A への呼び出しなどの上/V 会議サーバー、エッジ サーバー、応答グループ アプリケーション、および会議の自動応答、これらのシナリオを有効にします。 
  
**VoIP の基本情報**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|アクティブな呼び出し  <br/> |音声の着信/発信の合計数は現在進行中呼び出されます。  <br/> |
|呼び出しが終了しました  <br/> |音声通話の着信/発信の合計数は既に終了しました。  <br/> |
|呼び出しが拒否されました。  <br/> |着信音声通話の合計数を辞退しました。  <br/> |
|着信/発信呼び出しを実行しようと  <br/> |着信/発信音声呼び出しを試行の合計数です。  <br/> |
|着信/発信呼び出しの確立  <br/> |確立された着信/発信音声通話の合計数です。  <br/> |
|呼び出しの受信した NNN  <br/> |Nnn 応答コードがサーバーからの受信の合計数です。  <br/> |
|VoIP の成功率 (%)  <br/> |合計通話が確立されると合計実行しようとします。  <br/> |
   
**応答グループ サービスの呼び出しについて**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|アクティブな呼び出し  <br/> |応答グループ アプリケーションのアクティブな呼び出しの合計数です。  <br/> |
|呼び出しを実行しようと  <br/> |実行しようとする呼び出しの合計数です。  <br/> |
   
**インスタント メッセージング (IM) の呼び出しについて**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|アクティブな呼び出し  <br/> |継続的な着信/発信のインスタント メッセージング呼び出しの合計数です。  <br/> |
|呼び出しが終了しました  <br/> |インスタント メッセージング呼び出しの着信/発信の合計数は既に終了しました。  <br/> |
|呼び出しの受信した NNN  <br/> |Nnn 応答コードがサーバーからの受信の合計数です。  <br/> |
|受信/送信された IM メッセージ  <br/> |メッセージの合計数の受信または送信のすべてのセッションです。  <br/> |
|着信/発信呼び出しを実行しようと  <br/> |着信/発信インスタント メッセージングの呼び出しの試行の合計数です。  <br/> |
|着信/発信呼び出しの確立  <br/> |確立された着信/発信のインスタント メッセージ呼び出しの合計数です。  <br/> |
   
**アプリケーション呼び出し情報の共有**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|アクティブな呼び出し  <br/> |進行中の着信/発信アプリケーションの共有の呼び出しの合計数です。  <br/> |
|呼び出しが終了しました  <br/> |着信/発信のアプリケーションの呼び出しを既に共有の合計数が終了しました。  <br/> |
|呼び出しの受信した NNN  <br/> |Nnn 応答コードがサーバーからの受信の合計数です。  <br/> |
|着信/発信呼び出しを実行しようと  <br/> |着信/発信アプリケーションの共有しようとする呼び出しの合計数です。  <br/> |
|着信/発信呼び出しの確立  <br/> |着信/発信アプリケーションの共有を確立する呼び出しの合計数です。  <br/> |
   
**CAA の呼び出しについて**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|アクティブな呼び出し  <br/> |公衆交換電話網 (PSTN) の着信/発信の合計数は現在進行中呼び出されます。  <br/> |
|呼び出しが終了しました  <br/> |PSTN 通話の着信/発信の合計数は既に終了しました。  <br/> |
|着信/発信呼び出しを実行しようと  <br/> |PSTN 通話を受信/送信試行の合計数です。  <br/> |
|着信/発信呼び出しの確立  <br/> |確立された着信/発信の PSTN 通話の合計数です。  <br/> |
   
**会議情報**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|アクティブなインスタント メッセージング会議  <br/> |インスタント メッセージング会議を進行中の合計数です。  <br/> |
|アクティブなオーディオ/ビデオ会議  <br/> |数の継続的なオーディオ/ビデオ (A/V) 会議。  <br/> |
|アクティブなアプリケーションの共有の会議  <br/> |会議を共有して継続的なアプリケーションの合計数です。  <br/> |
|参加者の数  <br/> |会議に現在接続している参加者の合計数です。  <br/> |
|会議スケジュールの障害  <br/> |会議をスケジュールしようとしているときにエラーの合計数です。  <br/> |
|障害の会議に参加します。  <br/> |会議への接続中のエラーの合計数です。  <br/> |
   
**UCWA クライアント カウンター**

|**パフォーマンス カウンター**|**説明**|
|:-----|:-----|
|IMMCU の合計数を結合に成功しました  <br/> |インスタント メッセージング会議の合計数が参加しています。  <br/> |
|DMCU の合計数を結合に成功しました  <br/> |A の合計数 V 会議に参加するいるとします。  <br/> |
   

