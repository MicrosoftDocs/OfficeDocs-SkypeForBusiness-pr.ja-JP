---
title: Skype for Business Server の Statistics Manager の計画
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: f0ec68e1-de01-4a92-b67d-703149b05caf
description: '概要: Skype for Business Server の統計マネージャーについては、このトピックをお読みください。'
ms.openlocfilehash: a58ca8ea8ed2d612e00a0705bb28e8d6fe95eb45
ms.sourcegitcommit: ab47ff88f51a96aaf8bc99a6303e114d41ca5c2f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/20/2019
ms.locfileid: "34299738"
---
# <a name="plan-for-statistics-manager-for-skype-for-business-server"></a>Skype for Business Server の Statistics Manager の計画

**概要:** Skype for Business Server の統計情報マネージャーについては、こちらのトピックを参照してください。

 Skype for Business Server 統計情報マネージャーは、リアルタイムでビジネス サーバーの状態とパフォーマンス データを Skype で表示する事ができる強力なツールです。   数秒ごとに数百のサーバーのパフォーマンス データをポーリングでき、その結果をすぐに統計情報 マネージャーのウェブ サイト上に表示することができます。

統計マネージャーを使用すると、進行中のパフォーマンスの問題を特定したり、計画された変更の結果を環境に表示したり、停止の解決などを追跡したりすることができます。 このボックスには表示されません。統計マネージャーは、キー正常性インジケータ (KHI) のしきい値で構成され、展開の固有のニーズに合わせてカスタマイズすることができます。

1つのサーバーがすべてのサーバー側統計情報マネージャーコンポーネントをホストするオンプレミスの展開で、統計マネージャーを展開できます。 統計マネージャーの展開について詳しくは、「 [Skype For Business Server の統計情報マネージャーの展開](deploy.md)」をご覧ください。 既に統計情報マネージャーが展開されているが、2.0 にアップグレードしていない場合は、「[リリース2.0 の新機能](plan.md#BKMK_WhatsNew)」と「 [Skype for Business Server の更新統計情報マネージャー](upgrade.md)」を参照してください。

このトピックには次のセクションが含まれます。

- [機能](plan.md#BKMK_Features)

- [リリース2.0 の新機能](plan.md#BKMK_WhatsNew)

- [Components](plan.md#BKMK_Components)

- [オンプレミスの展開](plan.md#BKMK_DeploymentOptions)

- [要件](plan.md#BKMK_Requirements)

- [セキュリティの考慮事項](plan.md#BKMK_Security)

## <a name="features-and-capabilities"></a>機能
<a name="BKMK_Features"> </a>

統計情報マネージャーでは、次のことができます。

- すべてのサーバーの生データをリアルタイムで表示します。 (データは、非常に高い料金でサンプリングされ、1秒未満で web サイトに送信されます)。

- 特定の役割に対して集計されたデータを表示する。たとえば、フロントエンドサーバー、仲介サーバー、エッジサーバーなどです。

- ドリルダウンして、特定のサイトのデータ、サイト内の特定のプール、プール内の特定のサーバーのデータを表示します。

- ユーザー設定のグラフを作成して、選択したカウンターが既定で表示されるようにします。

- X 軸と y 軸の両方、または x 軸のどちらでもズームとパンを行うことができます。

- データをフィルター処理するには、日付の範囲またはポイントを使用します。

- 確立されたキー正常性インジケーター (KHIs) に基づいてサーバーのパフォーマンスを表示します。 KHIs は、定義済みの正常な範囲を持つパフォーマンスカウンターのコレクションを表しています。

- 各カウンターの詳細なメトリックを表示します。

- 複数の人口またはサーバー間でデータを比較します。

- 潜在カウンターレポートを表示して、現在のデータがダッシュボードサービスに報告されていないエージェントを特定します。

- グラフデータの特定のインスタンスをファイルに保存します。

- 最新情報を含む、リアルタイムで表示します。 [履歴] ビューが有効になっている場合は、新しいエラーのみが表示されます。

  - すべての KHIs を一度に表示する

  - サーバーのビューを表示する (横ビュー)

  - KHI 定義の表示

## <a name="whats-new-in-release-20"></a>リリース2.0 の新機能
<a name="BKMK_WhatsNew"> </a>

ここでは、リリース2.0 の新機能について説明します。 まだインストールしていない統計マネージャーがある場合は、「 [Skype For Business Server のアップグレード統計情報マネージャー](upgrade.md)」を参照してください。

- [シナリオ] ビューは、Edge メディア、ファブリック正常性、プールフェールオーバー、登録シナリオ用に追加されています。

- SQL server、Skype for Business の利用状況カウンターなど、多くの新しいカウンターが追加されました。

- 詳細マネージャーエージェントに対するウォッチャーノードの統合-エージェントがウォッチャーノードにインストールされている場合は、代理トランザクションの統計情報をカウンターとして統計マネージャーに報告します。

- さまざまな信頼性とパフォーマンスの向上。

実行している統計マネージャーの Web サイトのバージョンを確認するには、次の操作を行います。

- エクスプローラーで、(既定のディレクトリ) C:\Program Files\Skype for Business Server StatsMan WebSite\bin を開きます。

- StatsManHubWebSite を右クリックしてプロパティを表示する

- 製品のバージョンは [説明] の詳細に表示されます。

## <a name="components"></a>Components
<a name="BKMK_Components"> </a>

統計マネージャーは、次のコンポーネントで構成されています。

- **エージェント.** 各監視対象サーバー上で実行される簡易エージェント。 エージェントでは、ローカル集計を使用して、構成可能な高料金のパフォーマンスカウンターのポーリングを行うことができます。

- **リスナー.** すべてのエージェントからデータを受信し、人口を通じてデータを集計するサーバー側 API。

- **Bh1.** は、システムのクライアント API として機能し、web サーバー上で実行され、web サイト経由で接続されたクライアントに対してリアルタイムのデータ更新を提供します。 (ハブは、Web サイト msi の一部として自動的にインストールされます。)

- **当.** システムで利用可能なすべての機能を1つにまとめたユーザーインターフェイス。

さらに、統計マネージャーには、メモリ内キャッシュ用のオープンソースデータ構造サーバーである**Redis**が必要です。 Redis のダウンロードについて詳しくは、「[統計マネージャーの展開](deploy.md#BKMK_Deploy)」をご覧ください。

## <a name="on-premises-deployment"></a>オンプレミスの展開
<a name="BKMK_DeploymentOptions"> </a>

オンプレミスの展開では、1つのサーバーがすべてのサーバー側統計情報マネージャーコンポーネントをホストします。

次の図は、統計マネージャーの Web サイト、ハブ、リスナー、および Redis Cache システムが1台のコンピューターにホストされているオンプレミスの展開を示しています。 統計マネージャーは、3つの Skype for Business サーバーを監視しています。各サーバーでは、1つのエージェントがリスナーにデータを送信します。 ユーザーは1つの Web サイトに接続して、統計情報マネージャーで集計されたすべてのデータを表示します。

![Stats Manager のオンプレミス展開](../../media/c7c9d0b5-a70b-4d8c-aec4-0128a29b90b6.png)

## <a name="requirements"></a>要件
<a name="BKMK_Requirements"> </a>

統計情報管理を展開するには、次のソフトウェア、ネットワーキング、およびハードウェアの要件を考慮する必要があります。

### <a name="software-requirements"></a>ソフトウェア要件

- Windows Server 2016 および2019

- IIS (自動的にインストールされる)

- Redis

- 統計マネージャーサービス (自動的にインストールされる)

- PSExec-リモートエージェントの展開に必要

- .NET 4.5 (2012 R2 に含まれています)-エージェントおよびサーバー側コンポーネントに必要
- [Skype For Business Server のリアルタイム統計マネージャー (64 ビット) を](https://www.microsoft.com/en-in/download/details.aspx?id=57518)ダウンロードする

### <a name="networking-requirements"></a>ネットワーク要件


|**ホスティングサーバー**|**エージェント**|**リスナー**|
|:-----|:-----|:-----|
|最小ギガビット全二重ネットワーク。  <br/> |リスナーと通信するための送信 TCP ポート 8443 (カスタマイズ可能なポート番号)。  <br/> |リスナーポートは、すべてのサーバーで同じである必要があります。  <br/> |
|受信 TCP ポート80または443は、web サイトをホストするために開かれます。  <br/> |||
|エージェントと通信するための受信 TCP ポート 8443 (カスタマイズ可能なポート番号)。  <br/> |||

インストール時に、リスナーと Web サイトのファイアウォールポートが自動的に作成されます。 エージェントの場合、インストールでは、発信 TCP 接続が既定で許可されていることを前提としています。

### <a name="hardware-requirements"></a>ハードウェア要件

オンプレミスの展開では、1つのサーバーがサーバー側の統計情報マネージャーのすべてのコンポーネントをホストするため、16 GB の RAM を搭載したサーバーでは、1秒あたり平均で150のサンプルについてサポートを受けることができます。 サポートできるカウンター/エージェントの数を確認するには、次の計算を実行します。

100 server \*80 カウンター \* 1 (各エージェントからの1分あたりのカウンター 1/60 秒 = ~ 133 サンプル/秒)。

## <a name="security-considerations"></a>セキュリティの考慮事項
<a name="BKMK_Security"> </a>

サーバー間のすべてのトラフィックが暗号化されます。

- 暗号化された HTTPS トラフィックは、エージェントからリスナーサーバーにポート 8443 (既定) 経由で送信されます。

- エージェントは、サーバー上の SSL 拇印を確認し、リスナーサーバーが想定される受信者であることを確認します。 エージェントが (チェーンの検証ではなく) 証明書の拇印の検証を使用することに注意してください。 自己署名証明書を使用することが可能なため、証明書の完全な検証は行いません。

- エージェントが処理されると、リスナーは本物であるため、リスナーによって確認されたパスワードがエージェントによって表示されます。

- エージェントは、リスナーへの接続を介してパフォーマンスデータの転送を開始します。

## <a name="for-more-information"></a>関連情報
<a name="BKMK_Security"> </a>

詳細については、以下を参照してください。

- [Skype for Business Server の Statistics Manager の展開](deploy.md)

- [Skype for Business Server の Statistics Manager のアップグレード](upgrade.md)

- [Skype for Business Server の Statistics Manager のトラブルシューティング](troubleshoot.md)
